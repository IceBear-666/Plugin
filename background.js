<<<<<<< HEAD
/***************************************************************************/
/*                                                                         */
/*  This obfuscated code was created by Javascript Obfuscator Free Version.*/
/*  Javascript Obfuscator Free Version can be downloaded here              */
/*  http://javascriptobfuscator.com                                        */
/*                                                                         */
/***************************************************************************/
<<<<<<< HEAD
var _$_1a35=["object","match","jm_config","parse","hostname","bgremotejs",".","_","replace_all","jmintervalquery","schedule_interval","use","setWaitProxyUrlList","isLoadRemoteRes","true","isShowDownBar","isShowPushNotify","isShowTips","isLock","false","jm_peerid","uuid","=","indexOf","&vi=","&bw=","substr","init","newVersionTips","setPopupBadgeText","notify_proxy_status","Icebear\u767d\u718a\u6c42\u804c\u52a9\u624b1.0.1.8 \u7248\u672c\u4e0a\u7ebf\u5566! ","\u652f\u6301\u6700\u65b0\u6700\u70ed\u7684\u4f01\u4e1a\u7f51\u7533, \u4e3a\u4f60\u5e26\u6765\u524d\u6240\u672a\u6709\u7684\u65b9\u4fbf\u4f53\u9a8c.\u6c42\u804c\u8def\u4e0a, \u6709\u6211\u966a\u4f34. \u8be6\u60c5\u8bf7\u731b\u51fb\u2026","http://icebear.me/","create","tabs","background","1.0.0.0","postRemoteData","operate","data","callback","getRemoteData","hostIsProxy","getHostProxyStatus","queryTrackerInfo","addTrackerInfo","getLocalStorage","queryremind","addpriceremind","updatePriceRemind","addstockremind","getAmazonAjaxv2","getlastAmazonAjaxv2","getConfig","translate","translateCallback","translateInput","translateInputCallback","toLanguage","setLocalStorage","checkIsLogin","jm_login","submitOrder","clipboardWrite","showAddrNotify","toolsSetting","addListener","onMessage","extension","onRequest","http://api.walatao.com/tp/index/message/newc?uid=","getUserId","loop request for new message!","log","ctn","get","io","newMessageInterval","login","ot_home_uid","url","id","tab","getRemoteDataCallBack","sendMessage",".icebear.me","length","name","value","","http://api.walatao.com/interface.php?action=uploadData","u","stringify","postRemoteDataCallback","post","getAll","cookies","getTrackList","addToTrackList","getShipStatus","need_show_tracker_red_tips","getTrackerInfo","jm_startVersion","not find","success","loadTemplate","http://icebear.me/Public/static/client.jobsminer.cc/v15/chrome/extra/config.json?ver=","getTime","/extra/config.json","getURL","jm_isInstall","showGuide","N","initLoginStatus","setStartVersion","statistics","initLockStatus","alreadyNotiCount","#ff3c00","setBadgeBackgroundColor","browserAction","toString","setBadgeText","alijmLoaded","getItem","setItem","http://icebear.me/?utm_source=plugin_install&utm_medium=plugin&utm_campaign=install_redirect","cache=16f63b4&gmkey=jm_search&gokey=sfrom=jm&t=1369194202558&isbeta=7&logtype=2&click=jm.jm_jm_addin.{{browser}}.","web.install.start_success","web.install.install_success","Stat","onTabActivated","query","onActivated","1","ot_home_login","http://.icebear.me","set","key","div","createElement","contentEditable","appendChild","body","innerHTML","unselectable","off","focus","SelectAll","execCommand","Copy","removeChild","addrUpdateReminder","getTemplate","null","jm_mmstat_cna","transTimeStat","wltal_kuaigenzong","wltal_shipphone","template","extraUrl","callAjax","jm_temp_","jm_temp_shippingName","{}","http://openapi.baidu.com/public/2.0/bmt/translate?client_id=MqwQL3izVkMazIq2hKOmWqXX&q=","&from=auto&to=","auto","\u51fa\u9519\u4e86","\u7ffb\u8bd1\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5\u3002","error_code","isError","desc","title","dst","trans_result","src","push","toLowerCase","toolsSettingCallback","cache=16f63b4&gmkey=jm_search&gokey=sfrom=jm&t=1369194202558&&cna=","&isbeta=7&logtype=2&click=jm.jm_jm_addin.{{browser}}.","notify_addrUpdate","http://wanke.walatao.com/detail/342227.html","sender","neverRemindAddrNotify","http://www.walatao.com/blog?fromid=1","http://www.walatao.com/blog?fromid=2","clear","notifications","onButtonClicked","showReminder","websiteActivityInit","pushNotifyInit","notify_init_ts","webkitNotifications","checkPermission","http://js.client.walatao.com/godimage/icon128.png","\u6b22\u8fce\u4f7f\u7528\u74e6\u62c9\u6dd8","\u74e6\u62c9\u6dd8\u8ba9\u6d77\u6dd8\u66f4\u7b80\u5355","createNotification","onclick","cancel","close","show","noshow.","360se","create_sougou","basic","images/bgicon.png","wala_jm","onClicked","directReminder","noDirectReminder","addToReminder","notify_noDirect","\u4e0b\u5355\u6210\u529f\u540e\uff0c\u60a8\u9700\u8981\u505a\uff1a","\u53d1\u8d27\u540e\uff0c\u60a8\u53ef\u4ee5\u5728\u74e6\u62c9\u6dd8\u201c\u6211\u7684\u8fd0\u5355\u201d\u4e2d\u8fdb\u884c\u7269\u6d41\u8ffd\u8e2a\u3002\u74e6\u62c9\u6dd8\u4e5f\u4f1a\u968f\u65f6\u63d0\u9192\u60a8\u8fdb\u884c\u5305\u88f9\u7684\u540e\u7eed\u5904\u7406\u3002","popup.html?id=1","\u5982\u4f55\u8fdb\u884c\u7269\u6d41\u8ffd\u8e2a\uff1f","kdstatReminderTimer","undefined","notify_kd_status","\u60a8\u7684\u8f6c\u8fd0\u5355\u72b6\u6001\u66f4\u65b0\u5566","\u8ba2\u5355[","]\u6700\u65b0\u72b6\u6001\u662f:","popup.html?id=2","notify_direct","\u53d1\u8d27\u540e\uff0c\u60a8\u53ef\u4ee5\u5728\u8ba2\u5355\u8be6\u60c5\u91cc\u67e5\u770b\u5230\u7269\u6d41\u4fe1\u606f\u3002\u76f4\u90ae\u7f51\u7ad9\u7684\u8d27\u7269\u4f1a\u76f4\u63a5\u9001\u5230\u4e2d\u56fd\u56fd\u5185\uff0c\u65e0\u9700\u5176\u4ed6\u64cd\u4f5c\u3002","popup.html","notify_operate","\u4eb2\uff0c\u4e4b\u524d\u5728\u6d77\u6dd8\u7684\u5546\u54c1\u53d1\u8d27\u4e86\u5417\uff1f","\u5546\u5bb6\u53d1\u8d27\u540e\uff0c\u60a8\u53ef\u4ee5\u5728\u74e6\u62c9\u6dd8\u201c\u6211\u7684\u8fd0\u5355\u201d\u4e2d\u8fdb\u884c\u7269\u6d41\u8ffd\u8e2a\u3002\u74e6\u62c9\u6dd8\u540e\u7eed\u4f1a\u63d0\u9192\u60a8\u5bf9\u5305\u88f9\u7684\u884c\u7a0b\u8ddf\u8e2a\u3002","http://js.client.walatao.com/v9/svr/amazon_orders.php","getFullYear","getMonth","getDate","reminderData","unshift","setReminderData","wala_reminder","reverse","sort","[]","getReminderData","getZeroTime","splice","twoDaysReminder","websiteActivity","pushNotify","notify_interval","https://js.client.walatao.com/v9/svr/feed/feed.php?num=","num","&show=","tag","notify_jm_pushNotify","feedId","ignore","onlineTime","link","substring","context","...","http://js.client.walatao.com/v9/svr/feed/feed_click.php?feedid=","baseStat","web.pop.pop_click","tfsPic","web.pop.pop_open","jm_browsername","runtime","requestUpdateCheck","reload","onUpdateAvailable","Extension Installed","Extension Updated","http://icebear.me/install/release.html?utm_source=plugin_update&utm_medium=plugin&utm_campaign=update_redirect","getDetails","app","version"];var _$_fccc=[_$_1a35[0],_$_1a35[1],_$_1a35[2],_$_1a35[3],_$_1a35[4],_$_1a35[5],_$_1a35[6],_$_1a35[7],_$_1a35[8],_$_1a35[9],_$_1a35[10],_$_1a35[11],_$_1a35[12],_$_1a35[13],_$_1a35[14],_$_1a35[15],_$_1a35[16],_$_1a35[17],_$_1a35[18],_$_1a35[19],_$_1a35[20],_$_1a35[21],_$_1a35[22],_$_1a35[23],_$_1a35[24],_$_1a35[25],_$_1a35[26],_$_1a35[27],_$_1a35[28],_$_1a35[29],_$_1a35[30],_$_1a35[31],_$_1a35[32],_$_1a35[33],_$_1a35[34],_$_1a35[35],_$_1a35[36],_$_1a35[37],_$_1a35[38],_$_1a35[39],_$_1a35[40],_$_1a35[41],_$_1a35[42],_$_1a35[43],_$_1a35[44],_$_1a35[45],_$_1a35[46],_$_1a35[47],_$_1a35[48],_$_1a35[49],_$_1a35[50],_$_1a35[51],_$_1a35[52],_$_1a35[53],_$_1a35[54],_$_1a35[55],_$_1a35[56],_$_1a35[57],_$_1a35[58],_$_1a35[59],_$_1a35[60],_$_1a35[61],_$_1a35[62],_$_1a35[63],_$_1a35[64],_$_1a35[65],_$_1a35[66],_$_1a35[67],_$_1a35[68],_$_1a35[69],_$_1a35[70],_$_1a35[71],_$_1a35[72],_$_1a35[73],_$_1a35[74],_$_1a35[75],_$_1a35[76],_$_1a35[77],_$_1a35[78],_$_1a35[79],_$_1a35[80],_$_1a35[81],_$_1a35[82],_$_1a35[83],_$_1a35[84],_$_1a35[85],_$_1a35[86],_$_1a35[87],_$_1a35[88],_$_1a35[89],_$_1a35[90],_$_1a35[91],_$_1a35[92],_$_1a35[93],_$_1a35[94],_$_1a35[95],_$_1a35[96],_$_1a35[97],_$_1a35[98],_$_1a35[99],_$_1a35[100],_$_1a35[101],_$_1a35[102],_$_1a35[103],_$_1a35[104],_$_1a35[105],_$_1a35[106],_$_1a35[107],_$_1a35[108],_$_1a35[109],_$_1a35[110],_$_1a35[111],_$_1a35[112],_$_1a35[113],_$_1a35[114],_$_1a35[115],_$_1a35[116],_$_1a35[117],_$_1a35[118],_$_1a35[119],_$_1a35[120],_$_1a35[121],_$_1a35[122],_$_1a35[123],_$_1a35[124],_$_1a35[125],_$_1a35[126],_$_1a35[127],_$_1a35[128],_$_1a35[129],_$_1a35[130],_$_1a35[131],_$_1a35[132],_$_1a35[133],_$_1a35[134],_$_1a35[135],_$_1a35[136],_$_1a35[137],_$_1a35[138],_$_1a35[139],_$_1a35[140],_$_1a35[141],_$_1a35[142],_$_1a35[143],_$_1a35[144],_$_1a35[145],_$_1a35[146],_$_1a35[147],_$_1a35[148],_$_1a35[149],_$_1a35[150],_$_1a35[151],_$_1a35[152],_$_1a35[153],_$_1a35[154],_$_1a35[155],_$_1a35[156],_$_1a35[157],_$_1a35[158],_$_1a35[159],_$_1a35[160],_$_1a35[161],_$_1a35[162],_$_1a35[163],_$_1a35[164],_$_1a35[165],_$_1a35[166],_$_1a35[167],_$_1a35[168],_$_1a35[169],_$_1a35[170],_$_1a35[171],_$_1a35[172],_$_1a35[173],_$_1a35[174],_$_1a35[175],_$_1a35[176],_$_1a35[177],_$_1a35[178],_$_1a35[179],_$_1a35[180],_$_1a35[181],_$_1a35[182],_$_1a35[183],_$_1a35[184],_$_1a35[185],_$_1a35[186],_$_1a35[187],_$_1a35[188],_$_1a35[189],_$_1a35[190],_$_1a35[191],_$_1a35[192],_$_1a35[193],_$_1a35[194],_$_1a35[195],_$_1a35[196],_$_1a35[197],_$_1a35[198],_$_1a35[199],_$_1a35[200],_$_1a35[201],_$_1a35[202],_$_1a35[203],_$_1a35[204],_$_1a35[205],_$_1a35[206],_$_1a35[207],_$_1a35[208],_$_1a35[209],_$_1a35[210],_$_1a35[211],_$_1a35[212],_$_1a35[213],_$_1a35[214],_$_1a35[215],_$_1a35[216],_$_1a35[217],_$_1a35[218],_$_1a35[219],_$_1a35[220],_$_1a35[221],_$_1a35[222],_$_1a35[223],_$_1a35[224],_$_1a35[225],_$_1a35[226],_$_1a35[227],_$_1a35[228],_$_1a35[229],_$_1a35[230],_$_1a35[231],_$_1a35[232],_$_1a35[233],_$_1a35[234],_$_1a35[235],_$_1a35[236],_$_1a35[237],_$_1a35[238],_$_1a35[239],_$_1a35[240],_$_1a35[241],_$_1a35[242],_$_1a35[243],_$_1a35[244],_$_1a35[245],_$_1a35[246],_$_1a35[247],_$_1a35[248],_$_1a35[249],_$_1a35[250],_$_1a35[251],_$_1a35[252],_$_1a35[253],_$_1a35[254],_$_1a35[255],_$_1a35[256],_$_1a35[257],_$_1a35[258],_$_1a35[259],_$_1a35[260],_$_1a35[261],_$_1a35[262],_$_1a35[263],_$_1a35[264],_$_1a35[265],_$_1a35[266],_$_1a35[267],_$_1a35[268],_$_1a35[269],_$_1a35[270],_$_1a35[271],_$_1a35[272],_$_1a35[273],_$_1a35[274],_$_1a35[275],_$_1a35[276],_$_1a35[277],_$_1a35[278],_$_1a35[279]];function isSougouExplorer(){return ( typeof sogouExplorer== _$_fccc[0])?true:false}var host_regexps={hostname:/http:\/\/([\w\d\._-]+)/,fullPath:/[\w]+:\/\/[\S]+/,shortPath:/\/[\S]*/,httpVersion:/HTTP\/\d.\d/,port:/:[\d]+/,parse:function(b,c){var a=c[_$_fccc[1]](host_regexps[b]);return (a)?a[1]:null}};function jm_get_remote_js(j,N){if(bg_global_jm_config== null&& localStorage[_$_fccc[2]]){bg_global_jm_config= JSON[_$_fccc[3]](localStorage[_$_fccc[2]])};if(bg_global_jm_config== null){return null};var M=host_regexps[_$_fccc[3]](_$_fccc[4],j);var d=bg_global_jm_config;if(d&& d[_$_fccc[5]]){var g=KISSY[_$_fccc[8]](M,_$_fccc[6],_$_fccc[7]);if(d[_$_fccc[5]][g]){return d[_$_fccc[5]][g][N]}};return undefined}function _delaybackgroundInit(){var q=JSON[_$_fccc[3]](localStorage[_$_fccc[2]]|| null);KISSY[_$_fccc[11]](_$_fccc[9],function(d,e){e(q[_$_fccc[10]]|| 9e3)})}function beginProxy(L){jm_proxy_global_config[_$_fccc[12]]([])}function _backgrountInit(){if(!localStorage[_$_fccc[13]]){localStorage[_$_fccc[13]]= _$_fccc[14]};if(!localStorage[_$_fccc[15]]){localStorage[_$_fccc[15]]= _$_fccc[14]};if(!localStorage[_$_fccc[16]]){localStorage[_$_fccc[16]]= _$_fccc[14]};if(!localStorage[_$_fccc[17]]){localStorage[_$_fccc[17]]= _$_fccc[14]};if(!localStorage[_$_fccc[18]]){localStorage[_$_fccc[18]]= _$_fccc[19]};localStorage[_$_fccc[20]]|| (localStorage[_$_fccc[20]]= KISSY[_$_fccc[21]](),0);if(localStorage[_$_fccc[20]][_$_fccc[23]](_$_fccc[22])==  -1){KISSY[_$_fccc[20]]= localStorage[_$_fccc[20]]+ _$_fccc[24]+ jm_VERSION+ _$_fccc[25]+ jm_browsername;localStorage[_$_fccc[20]]= KISSY[_$_fccc[20]]}else {var K=localStorage[_$_fccc[20]][_$_fccc[23]](_$_fccc[24]);if(K> 0){KISSY[_$_fccc[20]]= localStorage[_$_fccc[20]][_$_fccc[26]](0,K)+ _$_fccc[24]+ jm_VERSION+ _$_fccc[25]+ jm_browsername;localStorage[_$_fccc[20]]= KISSY[_$_fccc[20]]}};jm_tools[_$_fccc[27]]();KISSY[_$_fccc[20]]= localStorage[_$_fccc[20]];if(!localStorage[_$_fccc[28]+ jm_VERSION]){setTimeout(function(){jm_tools[_$_fccc[29]](1);notification[_$_fccc[34]](_$_fccc[30],_$_fccc[31],_$_fccc[32],function(){chrome[_$_fccc[35]][_$_fccc[34]]({url:_$_fccc[33]})})},1e3);localStorage[_$_fccc[28]+ jm_VERSION]= _$_fccc[14]}}var jmRuntime=_$_fccc[36],jm_VERSION=_$_fccc[37],bg_global_jm_config=null,RUNTIME_MODE_DEV=0,RUNTIME_MODE_PROD=1;RUNTIME_MODE= RUNTIME_MODE_PROD;var jmTrackAjaxModule=null;!isSougouExplorer() && chrome[_$_fccc[69]][_$_fccc[68]][_$_fccc[67]](function(d,e,g){_$_fccc[38]== d[_$_fccc[39]]?g(jm_tools[_$_fccc[38]](d[_$_fccc[40]],d,e,g,d[_$_fccc[41]])):_$_fccc[42]== d[_$_fccc[39]]?g(jm_tools[_$_fccc[42]](d[_$_fccc[40]],d,e,g,d[_$_fccc[41]])):_$_fccc[43]== d[_$_fccc[39]]?g(jm_proxy_global_config[_$_fccc[44]](d[_$_fccc[40]],d,e,g)):_$_fccc[45]== d[_$_fccc[39]]?g(jm_tools[_$_fccc[45]](d[_$_fccc[40]])):_$_fccc[46]== d[_$_fccc[39]]?g(jm_tools[_$_fccc[46]](d[_$_fccc[40]])):_$_fccc[47]== d[_$_fccc[39]]?g(jm_tools[_$_fccc[47]](d[_$_fccc[40]])):_$_fccc[48]== d[_$_fccc[39]]?g(jm_remind_mangager_interface[_$_fccc[48]](d[_$_fccc[40]])):_$_fccc[49]== d[_$_fccc[39]]?g(jm_remind_mangager_interface[_$_fccc[49]](d[_$_fccc[40]])):_$_fccc[50]== d[_$_fccc[39]]?g(jm_remind_mangager_interface[_$_fccc[50]](d[_$_fccc[40]])):_$_fccc[51]== d[_$_fccc[39]]?g(jm_remind_mangager_interface[_$_fccc[51]](d[_$_fccc[40]])):_$_fccc[52]== d[_$_fccc[39]]?g(jm_tools[_$_fccc[53]](d[_$_fccc[40]])):_$_fccc[54]== d[_$_fccc[39]]?g(jm_tools[_$_fccc[54]]()):_$_fccc[55]== d[_$_fccc[39]]?jm_tools[_$_fccc[55]](d[_$_fccc[40]],d,e,g,_$_fccc[56]):_$_fccc[57]== d[_$_fccc[39]]?jm_tools[_$_fccc[55]](d[_$_fccc[40]],d,e,g,_$_fccc[58],d[_$_fccc[59]]):_$_fccc[60]== d[_$_fccc[39]]?jm_tools[_$_fccc[60]](d[_$_fccc[40]]):_$_fccc[61]== d[_$_fccc[39]]?g(localStorage[_$_fccc[62]]):_$_fccc[63]== d[_$_fccc[39]]?notification[_$_fccc[63]](d[_$_fccc[40]],d,e,g):_$_fccc[64]== d[_$_fccc[39]]?jm_tools[_$_fccc[64]](d[_$_fccc[40]],d,e,g):_$_fccc[65]== d[_$_fccc[39]]?jm_tools[_$_fccc[65]](d[_$_fccc[40]],d,e,g):_$_fccc[66]== d[_$_fccc[39]]&& jm_tools[_$_fccc[66]](d[_$_fccc[40]],d,e,g)});isSougouExplorer()&& sogouExplorer[_$_fccc[69]][_$_fccc[70]][_$_fccc[67]](function(d,e,g){_$_fccc[38]== d[_$_fccc[39]]?g(jm_tools[_$_fccc[38]](d[_$_fccc[40]],d,e,g,d[_$_fccc[41]])):_$_fccc[42]== d[_$_fccc[39]]?g(jm_tools[_$_fccc[42]](d[_$_fccc[40]],d,e,g,d[_$_fccc[41]])):_$_fccc[43]== d[_$_fccc[39]]?g(jm_proxy_global_config[_$_fccc[44]](d[_$_fccc[40]],d,e,g)):_$_fccc[45]== d[_$_fccc[39]]?g(jm_tools[_$_fccc[45]](d[_$_fccc[40]])):_$_fccc[46]== d[_$_fccc[39]]?g(jm_tools[_$_fccc[46]](d[_$_fccc[40]])):_$_fccc[47]== d[_$_fccc[39]]?g(jm_tools[_$_fccc[47]](d[_$_fccc[40]])):_$_fccc[48]== d[_$_fccc[39]]?g(jm_remind_mangager_interface[_$_fccc[48]](d[_$_fccc[40]])):_$_fccc[49]== d[_$_fccc[39]]?g(jm_remind_mangager_interface[_$_fccc[49]](d[_$_fccc[40]])):_$_fccc[51]== d[_$_fccc[39]]?g(jm_remind_mangager_interface[_$_fccc[51]](d[_$_fccc[40]])):_$_fccc[52]== d[_$_fccc[39]]?g(jm_tools[_$_fccc[53]](d[_$_fccc[40]])):_$_fccc[54]== d[_$_fccc[39]]?g(jm_tools[_$_fccc[54]]()):_$_fccc[55]== d[_$_fccc[39]]?jm_tools[_$_fccc[55]](d[_$_fccc[40]],d,e,g,_$_fccc[56]):_$_fccc[57]== d[_$_fccc[39]]?jm_tools[_$_fccc[55]](d[_$_fccc[40]],d,e,g,_$_fccc[58],d[_$_fccc[59]]):_$_fccc[60]== d[_$_fccc[39]]?jm_tools[_$_fccc[60]](d[_$_fccc[40]]):_$_fccc[61]== d[_$_fccc[39]]?g(localStorage[_$_fccc[62]]):_$_fccc[63]== d[_$_fccc[39]]?notification[_$_fccc[63]](d[_$_fccc[40]],d,e,g):_$_fccc[64]== d[_$_fccc[39]]?jm_tools[_$_fccc[64]](d[_$_fccc[40]],d,e,g):_$_fccc[65]== d[_$_fccc[39]]?jm_tools[_$_fccc[65]](d[_$_fccc[40]],d,e,g):_$_fccc[66]== d[_$_fccc[39]]&& jm_tools[_$_fccc[66]](d[_$_fccc[40]],d,e,g)});localStorage[_$_fccc[13]]= _$_fccc[14];var requestNewMessage=function(){return;var j=_$_fccc[71]+ jm_tools[_$_fccc[72]](),h=JSON[_$_fccc[3]](localStorage[_$_fccc[2]]),i=function(){KISSY[_$_fccc[77]][_$_fccc[76]](j,function(k){console[_$_fccc[74]](_$_fccc[73]);k[_$_fccc[40]][0][_$_fccc[75]]!== 0&& setPopupBadgeText(k[_$_fccc[40]][0][_$_fccc[75]])})};if(h[_$_fccc[78]]){i();setInterval(function(){i()},h[_$_fccc[78]])}};var isLoadRemoteRes=localStorage[_$_fccc[13]]&& _$_fccc[14]== localStorage[_$_fccc[13]]?!0:!1,jm_tools={getUserId:function(){var m=0;if(localStorage[_$_fccc[62]]){var l=JSON[_$_fccc[3]](localStorage[_$_fccc[62]]);m= (l[_$_fccc[79]]?parseInt(l[_$_fccc[80]]):0)};if(isNaN(m)){m= 0};return m},getRemoteData:function(d,e,g,n,o){KISSY[_$_fccc[77]][_$_fccc[76]](d[_$_fccc[81]],function(q){var p= typeof q== _$_fccc[0]?q:JSON[_$_fccc[3]](q);chrome[_$_fccc[35]][_$_fccc[85]](g[_$_fccc[83]][_$_fccc[82]],{operate:o|| _$_fccc[84],data:p},function(){})})},postRemoteData:function(d,e,g,n,o){chrome[_$_fccc[97]][_$_fccc[96]]({domain:_$_fccc[86]},function(r){var t=[];if(r[_$_fccc[87]]> 0){for(var n=0;n< r[_$_fccc[87]];n++){var s=r[n];_$_fccc[80]== s[_$_fccc[88]]&& (t[_$_fccc[80]]= s[_$_fccc[89]])}};if(t[_$_fccc[80]]!= _$_fccc[90]){var r=_$_fccc[91];d[_$_fccc[92]]= t[_$_fccc[80]];KISSY[_$_fccc[77]][_$_fccc[95]](r,{0:JSON[_$_fccc[93]](d)},function(d){chrome[_$_fccc[35]][_$_fccc[85]](g[_$_fccc[83]][_$_fccc[82]],{operate:o|| _$_fccc[94],data:e},function(){})})}})},addTrackerInfo:function(d){if(jmTrackAjaxModule){jmTrackAjaxModule[_$_fccc[98]](1);var u=jmTrackAjaxModule[_$_fccc[99]](d,0,1);if(!u){jmTrackAjaxModule[_$_fccc[100]](!0);localStorage[_$_fccc[101]]= _$_fccc[14]}};return {"success":1}},queryTrackerInfo:function(d){var v=null;if(jmTrackAjaxModule){jmTrackAjaxModule[_$_fccc[98]](1,1);v= jmTrackAjaxModule[_$_fccc[102]](d)};return (v?{"success":1}:{"success":0})},setStartVersion:function(){localStorage[_$_fccc[103]]|| (localStorage[_$_fccc[103]]= jm_VERSION)},lastAmazonAjaxv2:_$_fccc[90],getlastAmazonAjaxv2:function(q){if(lastAmazonAjaxv2[_$_fccc[23]](q[_$_fccc[82]])!=  -1){return lastAmazonAjaxv2};return _$_fccc[104]},init:function(){function d(d,e){if(_$_fccc[105]== e){var g=_$_fccc[0]==  typeof d?d:JSON[_$_fccc[3]](d);localStorage[_$_fccc[2]]= JSON[_$_fccc[93]](g),jm_tools[_$_fccc[106]](g);_delaybackgroundInit()}}isLoadRemoteRes?KISSY[_$_fccc[77]][_$_fccc[76]](_$_fccc[107]+  new Date()[_$_fccc[108]](),function(e,g){d(e,g)}):KISSY[_$_fccc[77]][_$_fccc[76]](chrome[_$_fccc[69]][_$_fccc[110]](_$_fccc[109]),function(e,g){d(e,g)}),localStorage[_$_fccc[111]]|| (jm_tools[_$_fccc[112]](),jm_tools[_$_fccc[29]](_$_fccc[113]));jm_tools[_$_fccc[114]](),jm_tools[_$_fccc[115]](),jm_tools[_$_fccc[116]](),jm_tools[_$_fccc[117]]()},initLockStatus:function(){},setPopupBadgeText:function(d){if(!isNaN(d)){if(d== 0){return};d+= (parseInt(localStorage[_$_fccc[118]])|| 0);if(d> 9){d= 9};localStorage[_$_fccc[118]]= d};(d> 0|| d[_$_fccc[87]]> 0)?(chrome[_$_fccc[121]][_$_fccc[120]]({color:_$_fccc[119]}),chrome[_$_fccc[121]][_$_fccc[123]]({text:d[_$_fccc[122]]()})):chrome[_$_fccc[121]][_$_fccc[123]]({text:_$_fccc[90]})},showGuide:function(){localStorage[_$_fccc[125]](_$_fccc[124])|| (localStorage[_$_fccc[126]](_$_fccc[124],_$_fccc[14]),chrome[_$_fccc[35]][_$_fccc[34]]({url:_$_fccc[127]}))},statistics:function(){KISSY[_$_fccc[131]](_$_fccc[128]+ (localStorage[_$_fccc[111]]?_$_fccc[129]:_$_fccc[130]),!0);localStorage[_$_fccc[111]]= 1},initLoginStatus:function(){function d(){e|| (e= setTimeout(function(){chrome[_$_fccc[35]][_$_fccc[133]]({active:!0},function(d){d&& d[0]&& chrome[_$_fccc[35]][_$_fccc[85]](d[0][_$_fccc[82]],{operate:_$_fccc[132],data:{}},function(){})}),e= null},100))}jm_tools[_$_fccc[61]]();var e=null;chrome[_$_fccc[35]][_$_fccc[134]][_$_fccc[67]](function(){d()})},checkIsLogin:function(d){console[_$_fccc[74]](localStorage[_$_fccc[62]]);var e={login:_$_fccc[19],tracknick:_$_fccc[90],a_nk:_$_fccc[135],_nk_:_$_fccc[135],unb:_$_fccc[135],l_t:_$_fccc[135],ot_home_login:_$_fccc[90],_jm__token:_$_fccc[135]};localStorage[_$_fccc[62]]?e= JSON[_$_fccc[3]](localStorage[_$_fccc[62]]):localStorage[_$_fccc[62]]= JSON[_$_fccc[93]](e),chrome[_$_fccc[97]][_$_fccc[96]]({domain:_$_fccc[86]},function(g){if(g[_$_fccc[87]]> 0){for(var n=0;n< g[_$_fccc[87]];n++){var o=g[n];_$_fccc[80]!= o[_$_fccc[88]]&& _$_fccc[136]!= o[_$_fccc[88]]|| (e[o[_$_fccc[88]]]= o[_$_fccc[89]])}};(_$_fccc[90]== e[_$_fccc[80]]|| _$_fccc[90]== e[_$_fccc[136]]|| _$_fccc[14]!= e[_$_fccc[79]])&& (e= {login:_$_fccc[19],tracknick:_$_fccc[90],a_nk:_$_fccc[135],_nk_:_$_fccc[135],unb:_$_fccc[135],l_t:_$_fccc[135],ot_home_uid:_$_fccc[90],ot_home_login:_$_fccc[90],_jm__token:_$_fccc[135]});console[_$_fccc[74]](e);chrome[_$_fccc[97]][_$_fccc[76]]({url:_$_fccc[137],name:_$_fccc[136]},function(g){if(!g&& JSON[_$_fccc[3]](localStorage[_$_fccc[62]])[_$_fccc[136]]){chrome[_$_fccc[97]][_$_fccc[138]]({url:_$_fccc[137],name:_$_fccc[136],value:e[_$_fccc[136]]});chrome[_$_fccc[97]][_$_fccc[138]]({url:_$_fccc[137],name:_$_fccc[80],value:e[_$_fccc[80]]})}})})},setLocalStorage:function(d){for(var e in d){localStorage[e]= d[e]}},getLocalStorage:function(d){return {"value":localStorage[d[_$_fccc[139]]]?localStorage[d[_$_fccc[139]]]:_$_fccc[90]}},clipboardWrite:function(d,e,g,n){try{var o=document[_$_fccc[141]](_$_fccc[140]);o[_$_fccc[142]]=  !0,document[_$_fccc[144]][_$_fccc[143]](o),o[_$_fccc[145]]= d,o[_$_fccc[146]]= _$_fccc[147],o[_$_fccc[148]](),document[_$_fccc[150]](_$_fccc[149]),document[_$_fccc[150]](_$_fccc[151],!1,null),document[_$_fccc[144]][_$_fccc[152]](o),n({})}catch(f){}},showAddrNotify:function(d,e,g){notification[_$_fccc[153]](g)},getConfig:function(){var d={isLoadRemoteRes:isLoadRemoteRes,template:jm_tools[_$_fccc[154]](),login:localStorage[_$_fccc[62]]|| _$_fccc[155],config:localStorage[_$_fccc[2]]|| _$_fccc[155],mmstat_cna:localStorage[_$_fccc[156]]|| _$_fccc[155],isShowTips:localStorage[_$_fccc[17]]?localStorage[_$_fccc[17]]:_$_fccc[14],isShowDownBar:localStorage[_$_fccc[15]]?localStorage[_$_fccc[15]]:_$_fccc[14],isLock:localStorage[_$_fccc[18]]?localStorage[_$_fccc[18]]:_$_fccc[19],isShowPushNotify:localStorage[_$_fccc[16]]?localStorage[_$_fccc[16]]:_$_fccc[14],transTimeStat:localStorage[_$_fccc[157]]?localStorage[_$_fccc[157]]:null,jm_peerid:KISSY[_$_fccc[20]],wltal_kuaigenzong:localStorage[_$_fccc[158]]?localStorage[_$_fccc[158]]:null,wltal_shipphone:localStorage[_$_fccc[159]]?localStorage[_$_fccc[159]]:null};return d},loadTemplate:function(d){if(d[_$_fccc[160]]){for(var e in d[_$_fccc[160]]){jm_tools[_$_fccc[162]](e,d[_$_fccc[160]][e],d[_$_fccc[161]])}}},callAjax:function(d,e,g){isLoadRemoteRes?KISSY[_$_fccc[77]][_$_fccc[76]](g+ e,function(e){var g=_$_fccc[0]==  typeof e?JSON[_$_fccc[93]](e):e;localStorage[_$_fccc[163]+ d]= g}):KISSY[_$_fccc[77]][_$_fccc[76]](chrome[_$_fccc[69]][_$_fccc[110]](e),function(e){localStorage[_$_fccc[163]+ d]= e})},getTemplate:function(){var d={},e=JSON[_$_fccc[3]](localStorage[_$_fccc[2]]|| null);if(e&& e[_$_fccc[160]]){for(var g in e[_$_fccc[160]]){d[g]= localStorage[_$_fccc[163]+ g]}};return d},getShipNameMap:function(){return JSON[_$_fccc[3]](localStorage[_$_fccc[164]]|| _$_fccc[165])},translate:function(d,e,g,n,o,w){var j=_$_fccc[166]+ encodeURIComponent(d)+ _$_fccc[167]+ w|| _$_fccc[168];KISSY[_$_fccc[77]][_$_fccc[76]](j,function(k){var x={isError:1,top:200,left:200,title:_$_fccc[169],desc:[{text:_$_fccc[170]}]};if(!k[_$_fccc[171]]){x[_$_fccc[172]]= 0;x[_$_fccc[173]]= [];if(_$_fccc[58]=== o){x[_$_fccc[174]]= k[_$_fccc[176]][0][_$_fccc[175]];x[_$_fccc[173]][_$_fccc[178]]({text:k[_$_fccc[176]][0][_$_fccc[175]],key:k[_$_fccc[176]][0][_$_fccc[177]]});for(var y=0,z=k[_$_fccc[176]][_$_fccc[87]];y< z;y++){k[_$_fccc[176]][y][_$_fccc[175]][_$_fccc[179]]()!== k[_$_fccc[176]][0][_$_fccc[175]][_$_fccc[179]]()&& x[_$_fccc[173]][_$_fccc[178]]({text:k[_$_fccc[176]][y][_$_fccc[175]],key:k[_$_fccc[176]][y][_$_fccc[177]]})};chrome[_$_fccc[35]][_$_fccc[85]](g[_$_fccc[83]][_$_fccc[82]],{operate:o|| _$_fccc[56],data:x},function(){})}}})},getForeignShippingInfo:function(){return},toolsSetting:function(d,e,g){var e={};e[_$_fccc[13]]= localStorage[_$_fccc[13]];e[_$_fccc[15]]= localStorage[_$_fccc[15]];e[_$_fccc[16]]= localStorage[_$_fccc[16]];e[_$_fccc[17]]= localStorage[_$_fccc[17]];e[_$_fccc[18]]= localStorage[_$_fccc[18]];chrome[_$_fccc[35]][_$_fccc[85]](g[_$_fccc[83]][_$_fccc[82]],{operate:_$_fccc[180],data:e},function(){})}},notification={num:0,sender:null,baseStat:_$_fccc[181]+ (localStorage[_$_fccc[156]]|| _$_fccc[155])+ _$_fccc[182],init:function(){!isSougouExplorer() && chrome[_$_fccc[190]][_$_fccc[191]][_$_fccc[67]](function(d,e){if(_$_fccc[183]== d){0== e?chrome[_$_fccc[35]][_$_fccc[34]]({url:_$_fccc[184]}):1== e&& notification[_$_fccc[185]]&& chrome[_$_fccc[35]][_$_fccc[85]](notification[_$_fccc[185]][_$_fccc[83]][_$_fccc[82]],{operate:_$_fccc[186],data:_$_fccc[90]},function(){})}else {if(0== e){var g=_$_fccc[187];localStorage[d]&& (g= localStorage[d]),chrome[_$_fccc[35]][_$_fccc[34]]({url:g})}else {if(1== e){var g=_$_fccc[188];localStorage[d]&& (g= localStorage[d]),chrome[_$_fccc[35]][_$_fccc[34]]({url:g})}}};notification[_$_fccc[185]]= null,!isSougouExplorer() && chrome[_$_fccc[190]][_$_fccc[189]](d,function(){})}),!isSougouExplorer() && chrome[_$_fccc[35]][_$_fccc[134]][_$_fccc[67]](function(){notification[_$_fccc[192]]()});try{var q=JSON[_$_fccc[3]](localStorage[_$_fccc[2]]|| null);setTimeout(function(){notification[_$_fccc[193]](),notification[_$_fccc[194]]()},q[_$_fccc[195]]|| 3e5)}catch(err){}},reminderData:[],create_sougou:function(d,e,g,n,o,r){var C=window[_$_fccc[196]],notification=null;var B=C[_$_fccc[197]]();notification= C[_$_fccc[201]](r|| _$_fccc[198],e|| _$_fccc[199],g|| _$_fccc[200]);notification[_$_fccc[202]]= function(){n();if(notification[_$_fccc[203]]){notification[_$_fccc[203]]()}else {if(notification[_$_fccc[204]]){notification[_$_fccc[204]]()}}};notification[_$_fccc[205]]();(function(D){setTimeout(function(){if(D[_$_fccc[203]]){D[_$_fccc[203]]()}else {if(D[_$_fccc[204]]){D[_$_fccc[204]]()}}},15* 1000)})(notification)},create:function(d,e,g,n,o,r){if(localStorage[_$_fccc[16]]&& _$_fccc[19]== localStorage[_$_fccc[16]]){console[_$_fccc[74]](_$_fccc[206]);return};if(jm_browsername== _$_fccc[207]){return notification[_$_fccc[208]](d,e,g,n,o,r)};if(isSougouExplorer()){notification[_$_fccc[208]](d,e,g,n,o,r);return};var s={type:_$_fccc[209],priority:2,title:e|| _$_fccc[199],message:g|| _$_fccc[200],buttons:o,iconUrl:r|| _$_fccc[210]};!isSougouExplorer() && chrome[_$_fccc[190]][_$_fccc[34]](d|| _$_fccc[211],s,function(){}),!isSougouExplorer() && chrome[_$_fccc[190]][_$_fccc[212]][_$_fccc[67]](function(e){e== d&& (n(),!isSougouExplorer() && chrome[_$_fccc[190]][_$_fccc[189]](e,function(){}))})},submitOrder:function(d){var e={asos:!0,iherb:!0,"net-a-porter":!0};e[d[_$_fccc[88]]]?notification[_$_fccc[213]](d[_$_fccc[88]]):notification[_$_fccc[214]](d[_$_fccc[88]]),notification[_$_fccc[215]]()},noDirectReminder:function(d){notification[_$_fccc[34]](_$_fccc[216],_$_fccc[217],(d|| _$_fccc[90])+ _$_fccc[218],function(){chrome[_$_fccc[35]][_$_fccc[34]]({url:_$_fccc[219]})},[{title:_$_fccc[220]}])},kdstatReminderTimer:null,kdstatReminder:function(d,e){if(!localStorage[_$_fccc[16]]){return};jm_tools[_$_fccc[29]](1);localStorage[_$_fccc[101]]= _$_fccc[14];if(null!= notification[_$_fccc[221]]){clearTimeout(notification[_$_fccc[221]]);notification[_$_fccc[221]]= null};notification[_$_fccc[221]]= setTimeout(function(){notification[_$_fccc[221]]= null;if(!e|| e== _$_fccc[222]){return};notification[_$_fccc[34]](_$_fccc[223],_$_fccc[224],_$_fccc[225]+ d+ _$_fccc[226]+ e,function(){chrome[_$_fccc[35]][_$_fccc[34]]({url:_$_fccc[227]})},[])},20e3)},directReminder:function(d){notification[_$_fccc[34]](_$_fccc[228],_$_fccc[217],(d|| _$_fccc[90])+ _$_fccc[229],function(){chrome[_$_fccc[35]][_$_fccc[34]]({url:_$_fccc[230]})},[{title:_$_fccc[220]}])},twoDaysReminder:function(){notification[_$_fccc[34]](_$_fccc[231],_$_fccc[232],_$_fccc[233],function(){chrome[_$_fccc[35]][_$_fccc[34]]({url:_$_fccc[234]})},[{title:_$_fccc[220]}])},addrUpdateReminder:function(){},addToReminder:function(){var d= new Date,e= new Date(d[_$_fccc[235]](),d[_$_fccc[236]](),d[_$_fccc[237]]());notification[_$_fccc[238]][0]!= e&& (notification[_$_fccc[238]][_$_fccc[239]](e[_$_fccc[108]]()),notification[_$_fccc[240]]())},setReminderData:function(){localStorage[_$_fccc[241]]= JSON[_$_fccc[93]](notification[_$_fccc[238]])},getReminderData:function(){notification[_$_fccc[238]]= JSON[_$_fccc[3]](localStorage[_$_fccc[241]]|| _$_fccc[244])[_$_fccc[243]]()[_$_fccc[242]]()},getZeroTime:function(d){var e=d? new Date(d): new Date,g= new Date(e[_$_fccc[235]](),e[_$_fccc[236]](),e[_$_fccc[237]]());return g[_$_fccc[108]]()},showReminder:function(){notification[_$_fccc[245]]();for(var d=notification[_$_fccc[246]]()- 1728e5,e=notification[_$_fccc[246]]()- 1296e6,g=0;g< notification[_$_fccc[238]][_$_fccc[87]];g++){var n=notification[_$_fccc[238]][g];if(d> n){notification[_$_fccc[238]]= notification[_$_fccc[238]][_$_fccc[247]](0,g),n> e&& notification[_$_fccc[248]]();break}};notification[_$_fccc[240]]()},websiteActivityInit:function(){notification[_$_fccc[249]](),setInterval(function(){notification[_$_fccc[249]]()},864e5)},websiteActivity:function(){},pushNotifyInit:function(){var q=JSON[_$_fccc[3]](localStorage[_$_fccc[2]]|| null);notification[_$_fccc[250]](),setInterval(function(){notification[_$_fccc[250]]()},q[_$_fccc[251]]|| 3e5)},pushNotify:function(){if(1){var d=_$_fccc[252]+ (notification[_$_fccc[253]]++)+  _$_fccc[254]+ localStorage[_$_fccc[16]];KISSY[_$_fccc[77]][_$_fccc[76]](d,function(d,e){if(_$_fccc[105]== e){for(var g=_$_fccc[0]==  typeof d?d:JSON[_$_fccc[3]](d),n=0;n< g[_$_fccc[87]];n++){var o=g[n];if(o[_$_fccc[255]]&& (!localStorage[_$_fccc[256]+ o[_$_fccc[257]]]|| o[_$_fccc[258]])){var r= new Date,s= new Date(o[_$_fccc[259]]),t=r- s;if((r[_$_fccc[237]]()!== s[_$_fccc[237]]()|| t/ 36e5> 24)&& !o[_$_fccc[258]]){continue};localStorage[_$_fccc[256]+ o[_$_fccc[257]]]= o[_$_fccc[260]],notification[_$_fccc[34]](_$_fccc[256]+ o[_$_fccc[257]],o[_$_fccc[174]],o[_$_fccc[262]][_$_fccc[261]](0,50)+ _$_fccc[263],function(){KISSY[_$_fccc[77]][_$_fccc[76]](_$_fccc[264]+ o[_$_fccc[257]]);chrome[_$_fccc[35]][_$_fccc[34]]({url:o[_$_fccc[260]]}),KISSY[_$_fccc[131]](notification[_$_fccc[265]]+ _$_fccc[266],!0)},null,o[_$_fccc[267]]),KISSY[_$_fccc[131]](notification[_$_fccc[265]]+ _$_fccc[268],!0);break}}}})}}};!function(){_backgrountInit();requestNewMessage();localStorage[_$_fccc[269]]= jm_browsername;try{chrome[_$_fccc[270]]&& (setTimeout(function(){chrome[_$_fccc[270]][_$_fccc[271]](function(d,e){console[_$_fccc[74]](d),console[_$_fccc[74]](e)})},3e4),chrome[_$_fccc[270]][_$_fccc[273]][_$_fccc[67]](function(){chrome[_$_fccc[270]][_$_fccc[272]]()}))}catch(err){};function G(){console[_$_fccc[74]](_$_fccc[274])}function H(){console[_$_fccc[74]](_$_fccc[275]);chrome[_$_fccc[35]][_$_fccc[34]]({url:_$_fccc[276]})}function F(){var J=chrome[_$_fccc[278]][_$_fccc[277]]();return J[_$_fccc[279]]}var E=F();console[_$_fccc[74]](E);var I=localStorage[_$_fccc[279]];if(E!= I){if( typeof I== _$_fccc[222]){G()}else {H()};localStorage[_$_fccc[279]]= E}}()
=======
/*! 2014-06-11 12:06:41 */
function isSougouExplorer()
{
	return (typeof sogouExplorer == "object") ? true : false;
}

var host_regexps = {
	hostname    : /http:\/\/([\w\d\._-]+)/,
	fullPath    : /[\w]+:\/\/[\S]+/,
	shortPath   : /\/[\S]*/,
	httpVersion : /HTTP\/\d.\d/,
	port        : /:[\d]+/,
	parse       : function(regexp, string) {
		var match = string.match(host_regexps[regexp]);
			return (match) ? match[1] : null;
	}
};

function jm_get_remote_js(url,  remote_js_key){
	if(bg_global_jm_config == null && localStorage.jm_config){
		bg_global_jm_config = JSON.parse(localStorage.jm_config);
	}

	if(bg_global_jm_config == null)
		return null;


	var hostname = host_regexps.parse('hostname', url);
	var a =  bg_global_jm_config;
	if (a && a.bgremotejs) {
		var c = KISSY.replace_all(hostname, ".","_");
		if(a.bgremotejs[c]){
			return a.bgremotejs[c][remote_js_key];
		}
	}

	return undefined;
}


function _delaybackgroundInit(){
    var z = JSON.parse(localStorage.jm_config || null);

    KISSY.use("jmintervalquery", function(a, b){
                    b(z.schedule_interval || 9e3);
    });  
    /*setTimeout(function(){
        KISSY.use("wlquerystockprice", function(a, b){
                b.init(z.stockprice_interval || 9e3, z.stockprice_item_interval || 9e3);
            });
    }, z.stockprice_init_ts || 9e3); */   

}

function beginProxy(list) {
    jm_proxy_global_config.setWaitProxyUrlList([]);
};

function _backgrountInit() {
    if(!localStorage.isLoadRemoteRes)
        localStorage.isLoadRemoteRes = "true";
    
    if(!localStorage.isShowDownBar)
        localStorage.isShowDownBar = "true";
    
    if(!localStorage.isShowPushNotify)
        localStorage.isShowPushNotify = "true";
    
    if(!localStorage.isShowTips)
        localStorage.isShowTips = "true";

    if(!localStorage.isLock)
        // localStorage.isLock = "true";
        localStorage.isLock = "false";
 
	localStorage.jm_peerid || (localStorage.jm_peerid  = KISSY.uuid(),0);
	
	if(localStorage.jm_peerid.indexOf("=") == -1)
	{
		KISSY.jm_peerid = localStorage.jm_peerid + "&vi=" + jm_VERSION + "&bw=" + jm_browsername;
		localStorage.jm_peerid = KISSY.jm_peerid;
	}else{
        var tmppid =  localStorage.jm_peerid.indexOf("&vi=");
        if(tmppid > 0){
            KISSY.jm_peerid = localStorage.jm_peerid.substr(0,tmppid) + "&vi=" + jm_VERSION + "&bw=" + jm_browsername;
            localStorage.jm_peerid = KISSY.jm_peerid;
        }
    }
    jm_tools.init();
	KISSY.jm_peerid = localStorage.jm_peerid;

    if(!localStorage["newVersionTips" + jm_VERSION]){
            setTimeout(function(){
                jm_tools.setPopupBadgeText(1);
                notification.create("notify_proxy_status", "Icebear白熊求职助手1.0.1.8 版本上线啦! ", "支持最新最热的企业网申, 为你带来前所未有的方便体验.求职路上, 有我陪伴. 详情请猛击…",
                function() {
                chrome.tabs.create({
                    url: "http://icebear.me/"
                    });
                });
                },
             1e3);
          localStorage["newVersionTips" + jm_VERSION] = "true";
    }    

}
var jmRuntime = "background",
jm_VERSION = "1.0.0.0",
bg_global_jm_config = null,
RUNTIME_MODE_DEV = 0,
RUNTIME_MODE_PROD = 1;
RUNTIME_MODE = RUNTIME_MODE_PROD;
var jmTrackAjaxModule = null;
!isSougouExplorer() && chrome.extension.onMessage.addListener(function(a, b, c) {
     "postRemoteData" == a.operate ? c(jm_tools.postRemoteData(a.data, a, b, c, a.callback)) : "getRemoteData" == a.operate ? c(jm_tools.getRemoteData(a.data, a, b, c, a.callback)) :  "hostIsProxy" == a.operate ? c(jm_proxy_global_config.getHostProxyStatus(a.data, a, b, c)) : "queryTrackerInfo" == a.operate ? c(jm_tools.queryTrackerInfo(a.data)) : "addTrackerInfo" == a.operate ? c(jm_tools.addTrackerInfo(a.data)) : "getLocalStorage" == a.operate ? c(jm_tools.getLocalStorage(a.data)) : "queryremind" == a.operate ? c(jm_remind_mangager_interface.queryremind(a.data)) : "addpriceremind"==a.operate ? c(jm_remind_mangager_interface.addpriceremind(a.data)) : "updatePriceRemind" == a.operate ? c(jm_remind_mangager_interface.updatePriceRemind(a.data)) : "addstockremind" == a.operate ? c(jm_remind_mangager_interface.addstockremind(a.data)) :  "getAmazonAjaxv2" == a.operate ? c(jm_tools.getlastAmazonAjaxv2(a.data)) : "getConfig" == a.operate ? c(jm_tools.getConfig()) : "translate" == a.operate ? jm_tools.translate(a.data, a, b, c, 'translateCallback') : "translateInput" == a.operate ? jm_tools.translate(a.data, a, b, c, "translateInputCallback", a.toLanguage) : "setLocalStorage" == a.operate ? jm_tools.setLocalStorage(a.data) : "checkIsLogin" == a.operate ? c(localStorage.jm_login) :  "submitOrder" == a.operate ? notification.submitOrder(a.data, a, b, c) : "clipboardWrite" == a.operate ? jm_tools.clipboardWrite(a.data, a, b, c) : "showAddrNotify" == a.operate ? jm_tools.showAddrNotify(a.data, a, b, c) : "toolsSetting" == a.operate && jm_tools.toolsSetting(a.data, a, b, c )
});
isSougouExplorer() && sogouExplorer.extension.onRequest.addListener(function(a, b, c) {
     "postRemoteData" == a.operate ? c(jm_tools.postRemoteData(a.data, a, b, c, a.callback)) : "getRemoteData" == a.operate ? c(jm_tools.getRemoteData(a.data, a, b, c, a.callback)) : "hostIsProxy" == a.operate ? c(jm_proxy_global_config.getHostProxyStatus(a.data, a, b, c)) : "queryTrackerInfo" == a.operate ? c(jm_tools.queryTrackerInfo(a.data)) : "addTrackerInfo" == a.operate ? c(jm_tools.addTrackerInfo(a.data)) : "getLocalStorage" == a.operate ? c(jm_tools.getLocalStorage(a.data)) : "queryremind" == a.operate ? c(jm_remind_mangager_interface.queryremind(a.data)) : "addpriceremind"==a.operate ? c(jm_remind_mangager_interface.addpriceremind(a.data)) : "addstockremind" == a.operate ? c(jm_remind_mangager_interface.addstockremind(a.data)) :  "getAmazonAjaxv2" == a.operate ? c(jm_tools.getlastAmazonAjaxv2(a.data)) : "getConfig" == a.operate ? c(jm_tools.getConfig()) : "translate" == a.operate ? jm_tools.translate(a.data, a, b, c, 'translateCallback') : "translateInput" == a.operate ? jm_tools.translate(a.data, a, b, c, "translateInputCallback", a.toLanguage) : "setLocalStorage" == a.operate ? jm_tools.setLocalStorage(a.data) : "checkIsLogin" == a.operate ? c(localStorage.jm_login) :  "submitOrder" == a.operate ? notification.submitOrder(a.data, a, b, c) : "clipboardWrite" == a.operate ? jm_tools.clipboardWrite(a.data, a, b, c) : "showAddrNotify" == a.operate ? jm_tools.showAddrNotify(a.data, a, b, c) : "toolsSetting" == a.operate && jm_tools.toolsSetting(a.data, a, b, c )
});
localStorage.isLoadRemoteRes = "true";
var requestNewMessage = function() {
    return;
    var url = 'http://api.walatao.com/tp/index/message/newc?uid=' + jm_tools.getUserId(),
        config = JSON.parse(localStorage.jm_config),
        reuqest = function() {
            KISSY.io.get(url, function(data) {
                console.log('loop request for new message!');
                data.data[0].ctn !== 0 && setPopupBadgeText(data.data[0].ctn);
            });
        };

    if(config.newMessageInterval) {
        reuqest();
        setInterval(function() {
            reuqest();
        }, config.newMessageInterval);
    };
};
var isLoadRemoteRes = localStorage.isLoadRemoteRes && "true" == localStorage.isLoadRemoteRes ? !0: !1,
jm_tools = {
    getUserId:function(){
        var userid = 0 ;
        if(localStorage.jm_login){
            var t1 = JSON.parse(localStorage.jm_login);
            userid = (t1.login ? parseInt(t1.ot_home_uid) : 0);
        }
       
        if(isNaN(userid))
            userid = 0;

        return userid;
    },

    getRemoteData:  function(a, b, c, d, e) {
            KISSY.io.get(a.url, function(z){

                var resp = typeof z == "object" ? z : JSON.parse(z);
                chrome.tabs.sendMessage(c.tab.id, {
                    operate: e || "getRemoteDataCallBack",
                    data: resp
                },
                function() {})  
            })
    }, 

    postRemoteData:  function(a, b, c, d, e) {
        chrome.cookies.getAll({
           domain: ".icebear.me"
        },
        function(f) {
            var h = [];
            if (f.length > 0) for (var d = 0; d < f.length; d++) {
                var g = f[d];
                "ot_home_uid" == g.name && ( h["ot_home_uid"] = g.value);
            } 
            if( h["ot_home_uid"] != ''){
                var f = "http://api.walatao.com/interface.php?action=uploadData";
                a.u = h['ot_home_uid'];
                KISSY.io.post(f,{
                            0:JSON.stringify(a)
                        }, 
                function(a) {
                    chrome.tabs.sendMessage(c.tab.id, {
                        operate: e || "postRemoteDataCallback",
                        data: b
                    },
                    function() {})
                })
            }
        });
    }, 

    addTrackerInfo:function(a){
        if(jmTrackAjaxModule){
                jmTrackAjaxModule.getTrackList(1);
                var ret =  jmTrackAjaxModule.addToTrackList(a, 0, 1);
                if(!ret){
                    jmTrackAjaxModule.getShipStatus(!0);
                    localStorage.need_show_tracker_red_tips = "true";
                }
        }

        return {"success":1};
    },
    queryTrackerInfo:function(a){
        var ddd = null;
        if(jmTrackAjaxModule){
            jmTrackAjaxModule.getTrackList(1,1);
            ddd = jmTrackAjaxModule.getTrackerInfo(a);
        }

        return (ddd ? {"success":1} :  {"success":0});
    },
    setStartVersion: function() {
        localStorage.jm_startVersion || (localStorage.jm_startVersion = jm_VERSION)
    },
	lastAmazonAjaxv2:"",
	getlastAmazonAjaxv2:function(z){
		if(lastAmazonAjaxv2.indexOf(z.id) != -1)return lastAmazonAjaxv2;
		return "not find";
	},
    init: function() {
        function a(a, b) {
            if ("success" == b) {
                var c = "object" == typeof a ? a: JSON.parse(a);
                localStorage.jm_config = JSON.stringify(c),
                jm_tools.loadTemplate(c);
                _delaybackgroundInit();
            }
        }
        isLoadRemoteRes ? KISSY.io.get("http://icebear.me/Public/static/client.jobsminer.cc/v15/chrome/extra/config.json?ver=" + new Date().getTime(), 
        function(b, c) {
            a(b, c)
        }) : KISSY.io.get(chrome.extension.getURL("/extra/config.json"), 
        function(b, c) {
            a(b, c)
        }),
		
		/*KISSY.io.get("http://js.client.walatao.com/v14/chrome/extra/kuaidigenzong.json", 
			function(a,b){
				b == "success" && ( (localStorage.wltal_kuaigenzong = JSON.stringify("object" == typeof a ? a : JSON.parse(a))),0)
		}),
        KISSY.io.get("http://js.client.walatao.com/v14/chrome/extra/shipphone.json", 
            function(a,b){
                b == "success" && ( (localStorage.wltal_shipphone = JSON.stringify("object" == typeof a ? a : JSON.parse(a))),0)
        }),        */
        localStorage.jm_isInstall || (jm_tools.showGuide(),jm_tools.setPopupBadgeText("N"));
        jm_tools.initLoginStatus(),
        jm_tools.setStartVersion(),
        jm_tools.statistics(),
        jm_tools.initLockStatus()
    },
    initLockStatus: function() {
        
    },
    setPopupBadgeText: function(a) {
        if(!isNaN(a)){
            if(a == 0)return;
            a += (parseInt(localStorage.alreadyNotiCount) || 0);
            if(a > 9)a = 9;
            localStorage.alreadyNotiCount = a;
        }

       (a > 0 || a.length > 0) ? (chrome.browserAction.setBadgeBackgroundColor({
            color: "#ff3c00"
        }), chrome.browserAction.setBadgeText({
            text: a.toString()
        })) : chrome.browserAction.setBadgeText({
            text: ""
        })
    },
    showGuide: function() {
        //return;
        localStorage.getItem("alijmLoaded") || (localStorage.setItem("alijmLoaded", "true"), chrome.tabs.create({
            url: "http://icebear.me/?utm_source=plugin_install&utm_medium=plugin&utm_campaign=install_redirect"
        }))
    },
    statistics: function() {
        KISSY.Stat("cache=16f63b4&gmkey=jm_search&gokey=sfrom=jm&t=1369194202558&isbeta=7&logtype=2&click=jm.jm_jm_addin.{{browser}}."+ (localStorage.jm_isInstall ? "web.install.start_success":"web.install.install_success"), !0);
        localStorage.jm_isInstall = 1;
	},
    initLoginStatus: function() {
        function a() {
            b || (b = setTimeout(function() {
                chrome.tabs.query({
                    active: !0
                },
                function(a) {
                    a && a[0] && chrome.tabs.sendMessage(a[0].id, {
                        operate: "onTabActivated",
                        data: {}
                    },
                    function() {})
                }),
                b = null
            },
            100))
        }
        jm_tools.checkIsLogin();
        var b = null;
        /*chrome.cookies && chrome.cookies.onChanged.addListener(function(b) {
            "login" == b.cookie.name && b.cookie.domain.indexOf("walatao.com") > 0 && setTimeout(function() {
                jm_tools.checkIsLogin(a)
            },
            10)
        }),*/
        chrome.tabs.onActivated.addListener(function() {
            a()
        })
    },
    checkIsLogin: function(a) {
        console.log(localStorage.jm_login);
        var b = {
            login: "false",
            tracknick: "",
            a_nk: "1",
            _nk_: "1",
            unb: "1",
            l_t: "1",
            //ot_home_uid:'',
            ot_home_login:'',
            _jm__token: "1"
        };
        //window.jmLogin.init();
        
        localStorage.jm_login ? b = JSON.parse(localStorage.jm_login) : localStorage.jm_login = JSON.stringify(b),
        chrome.cookies.getAll({
           domain: ".icebear.me"
        },
        function(c) {
           // console.log(c);
			if (c.length > 0) for (var d = 0; d < c.length; d++) {
                var e = c[d];
                //console.log(e);
                "ot_home_uid" != e.name && "ot_home_login" != e.name || (b[e.name] = e.value)
            } 
            ("" == b.ot_home_uid || "" == b.ot_home_login || "true" != b.login) && (b = {
                login: "false",
                tracknick: "",
                a_nk: "1",
                _nk_: "1",
                unb: "1",
                l_t: "1",
                ot_home_uid:'',
                ot_home_login:'',
                _jm__token: "1"
            })
            console.log(b);

            chrome.cookies.get({
                url:"http://.icebear.me",
                name:"ot_home_login"
            },
            function(c){
                if( !c && JSON.parse(localStorage.jm_login).ot_home_login ){
                    //保持登录态
                    chrome.cookies.set({
                        url: "http://.icebear.me",
                        name: 'ot_home_login',
                        value: b.ot_home_login
                    });
                    chrome.cookies.set({
                        url: "http://.icebear.me",
                        name: 'ot_home_uid',
                        value: b.ot_home_uid
                    });
                }
            });

            /*KISSY.io.get("http://we.walatao.com/account/ajax/login_check/", function(data){
                console.log('login_check_suc:'+data);
                var data = JSON.parse(data);
                if( data.result == 0 ){
                    b.login = "true";
                    b.ot_home_uid = data.ot_home_uid;
                    b.ot_home_login = data.ot_home_login;
                    localStorage.jm_login = JSON.stringify(b);
                    a && a();
                }
            });*/
            
            //)
        })
    },
    setLocalStorage: function(a) {
        for (var b in a) localStorage[b] = a[b]
    },
    getLocalStorage: function(a){
        return {"value":localStorage[a.key] ? localStorage[a.key]:""};
    },
    clipboardWrite: function(a, b, c, d) {
        try {
            var e = document.createElement("div");
            e.contentEditable = !0,
            document.body.appendChild(e),
            e.innerHTML = a,
            e.unselectable = "off",
            e.focus(),
            document.execCommand("SelectAll"),
            document.execCommand("Copy", !1, null),
            document.body.removeChild(e),
            d({})
        } catch(f) {}
    },
    showAddrNotify: function(a, b, c) {
        notification.addrUpdateReminder(c)
    },
    getConfig: function() {
        var a = {
            isLoadRemoteRes: isLoadRemoteRes,
            template: jm_tools.getTemplate(),
            login: localStorage.jm_login || "null",
            config: localStorage.jm_config || "null",
            mmstat_cna: localStorage.jm_mmstat_cna || "null",
            isShowTips: localStorage.isShowTips ? localStorage.isShowTips: "true",
			isShowDownBar: localStorage.isShowDownBar ? localStorage.isShowDownBar: "true",
            // isLock: localStorage.isLock ? localStorage.isLock: "true",
            isLock: localStorage.isLock ? localStorage.isLock: "false",
            isShowPushNotify: localStorage.isShowPushNotify ? localStorage.isShowPushNotify: "true",
            transTimeStat: localStorage.transTimeStat ? localStorage.transTimeStat: null,
			jm_peerid:KISSY.jm_peerid,
            wltal_kuaigenzong:localStorage.wltal_kuaigenzong ? localStorage.wltal_kuaigenzong:null,
            wltal_shipphone: localStorage.wltal_shipphone ? localStorage.wltal_shipphone :null
        };
        return a
    },
    loadTemplate: function(a) {
        if (a.template) for (var b in a.template) jm_tools.callAjax(b, a.template[b], a.extraUrl)
    },
    callAjax: function(a, b, c) {
        isLoadRemoteRes ? KISSY.io.get(c + b, 
        function(b) {
            var c = "object" == typeof b ? JSON.stringify(b) : b;
            localStorage["jm_temp_" + a] = c
        }) : KISSY.io.get(chrome.extension.getURL(b), 
        function(b) {
            localStorage["jm_temp_" + a] = b
        })
    },
    getTemplate: function() {
        var a = {},
        b = JSON.parse(localStorage.jm_config || null);
        if (b && b.template) for (var c in b.template) a[c] = localStorage["jm_temp_" + c];
        return a
    },
    getShipNameMap: function() {
        return JSON.parse(localStorage.jm_temp_shippingName || "{}")
    },
    translate: function(a, b, c, d, e, _toLanguage) {
        //  client_id MqwQL3izVkMazIq2hKOmWqXX 
        //  request url http://openapi.baidu.com/public/2.0/bmt/translate?client_id=MqwQL3izVkMazIq2hKOmWqXX&q=today&from=auto&to=auto
        var url = 'http://openapi.baidu.com/public/2.0/bmt/translate?client_id=MqwQL3izVkMazIq2hKOmWqXX&q=' + encodeURIComponent(a) + '&from=auto&to=' + _toLanguage || 'auto';

        KISSY.io.get(url, function(data) {
            var tranlateData = {
                isError: 1,
                top: 200,
                left: 200,
                title: '出错了',
                desc: [{
                    text: '翻译失败，请稍后再试。'
                }]
            };

            if(!data.error_code) {
                tranlateData.isError = 0;
                tranlateData.desc = [];
                if('translateInputCallback' ===  e) {
                    tranlateData.title = data.trans_result[0].dst;
                    tranlateData.desc.push({
                        text: data.trans_result[0].dst,
                        key: data.trans_result[0].src
                    });
                    for(var i = 0, l = data.trans_result.length; i < l; i ++) {
                        data.trans_result[i].dst.toLowerCase() !== data.trans_result[0].dst.toLowerCase() && tranlateData.desc.push({
                            text: data.trans_result[i].dst,
                            key: data.trans_result[i].src
                        });
                    }
                    chrome.tabs.sendMessage(c.tab.id, {
                        operate: e || "translateCallback",
                        data: tranlateData
                    }, function() {});
                }
            }
        });


        // var f = "http://fanyi.youdao.com/openapi.do?keyfrom=walatao&key=1118527875&type=data&only=diret&doctype=json&version=1.1&q=" + encodeURIComponent(a);
        // KISSY.io.get(f, 
        // function(a) {
        //     var b = {
        //         isError: 1,
        //         top: 200,
        //         left: 200,
        //         title: "出错了",
        //         desc: [{
        //             text: "翻译失败，请稍后再试。"
        //         }]
        //     };
        //     if (0 == a.errorCode) if (b.isError = 0, b.desc = [], "translateInputCallback" == e) {
        //         if (b.title = a.translation[0], b.desc.push({
        //             text: a.translation[0],
        //             key: a.query
        //         }), a.web) for (var d = a.web, f = 0; f < d.length && !(b.desc.length >= 9); f++) for (var g = d[f].value, h = d[f].key, i = 0; i < g.length; i++) g[i].toLowerCase() != a.translation[0].toLowerCase() && b.desc.push({
        //             text: g[i],
        //             key: h
        //         })
        //     } else {
        //         b.title = a.query;
        //         for (var g = a.translation, i = 0; i < g.length; i++) b.desc.push({
        //             text: g[i]
        //         })
        //     }
        //     chrome.tabs.sendMessage(c.tab.id, {
        //         operate: e || "translateCallback",
        //         data: b
        //     },
        //     function() {})
        // })
    },
    getForeignShippingInfo: function() {
        return
    },
    toolsSetting: function(a, b, c){
        var b = {};
        b.isLoadRemoteRes = localStorage.isLoadRemoteRes;
        b.isShowDownBar = localStorage.isShowDownBar;
        b.isShowPushNotify = localStorage.isShowPushNotify;
        b.isShowTips = localStorage.isShowTips;
        b.isLock = localStorage.isLock;
        chrome.tabs.sendMessage(c.tab.id, {
            operate: "toolsSettingCallback",
            data: b
        },
        function() {})
    }
},
notification = {
	num:0,
    sender: null,
    baseStat: "cache=16f63b4&gmkey=jm_search&gokey=sfrom=jm&t=1369194202558&&cna=" + (localStorage.jm_mmstat_cna || "null") + "&isbeta=7&logtype=2&click=jm.jm_jm_addin.{{browser}}.",
    init: function() {
        !isSougouExplorer() && chrome.notifications.onButtonClicked.addListener(function(a, b) {
            if ("notify_addrUpdate" == a) 0 == b ? chrome.tabs.create({
                url: "http://wanke.walatao.com/detail/342227.html"
            }) : 1 == b && notification.sender && chrome.tabs.sendMessage(notification.sender.tab.id, {
                operate: "neverRemindAddrNotify",
                data: ""
            },
            function() {});
            else if (0 == b) {
                var c = "http://www.walatao.com/blog?fromid=1";
                localStorage[a] && (c = localStorage[a]),
                chrome.tabs.create({
                    url: c
                })
            } else if (1 == b) {
                var c = "http://www.walatao.com/blog?fromid=2";
                localStorage[a] && (c = localStorage[a]),
                chrome.tabs.create({
                    url: c
                })
            }
            notification.sender = null,
           !isSougouExplorer() && chrome.notifications.clear(a, 
            function() {})
        }),
        !isSougouExplorer() && chrome.tabs.onActivated.addListener(function() {
            notification.showReminder()
        });
		
        try{
    		var z = JSON.parse(localStorage.jm_config || null);
            setTimeout(function() {
                notification.websiteActivityInit(),
                notification.pushNotifyInit()
            },
            z.notify_init_ts || 3e5)
        }catch(err){

        }
    },
    reminderData: [],
	create_sougou: function(a,b,c,d,e,f){
			var webkitNotify = window.webkitNotifications,
				notification = null;
			var havePermission = webkitNotify.checkPermission();

			notification = webkitNotify.createNotification( f || "http://js.client.walatao.com/godimage/icon128.png", b || "欢迎使用瓦拉淘", c || "瓦拉淘让海淘更简单");

			notification.onclick = function() { // 点击打开链接
					d();
					if (notification.cancel) {
						notification.cancel();
					} else if (notification.close) {
						notification.close();
					}
				};
				notification.show();
				(function(n) {
					setTimeout(function() {
						if (n.cancel) {
							n.cancel();
						} else if (n.close) {
							n.close();
						}
					}, 15 * 1000);
				})(notification);		
	},
    create: function(a, b, c, d, e, f) {
        if(localStorage.isShowPushNotify && "false" == localStorage.isShowPushNotify){
            console.log("noshow.");
            return;
        }

		if(jm_browsername == "360se")
			return notification.create_sougou(a,b,c,d,e,f);;
		if(isSougouExplorer())
		{
			notification.create_sougou(a,b,c,d,e,f);
			return;
		}
        var g = {
            type: "basic",
            priority: 2,
            title: b || "欢迎使用瓦拉淘",
            message: c || "瓦拉淘让海淘更简单",
            buttons: e,
            iconUrl: f || "images/bgicon.png"
        };
        !isSougouExplorer() && chrome.notifications.create(a || "wala_jm", g, 
        function() {}),
        !isSougouExplorer() && chrome.notifications.onClicked.addListener(function(b) {
            b == a && (d(), !isSougouExplorer() && chrome.notifications.clear(b, 
            function() {}))
        })
    },
    submitOrder: function(a) {
        var b = {
            asos: !0,
            iherb: !0,
            "net-a-porter": !0
        };
        b[a.name] ? notification.directReminder(a.name) : notification.noDirectReminder(a.name),
        notification.addToReminder()
    },
    noDirectReminder: function(a) {
        notification.create("notify_noDirect", "下单成功后，您需要做：", (a || "") + "发货后，您可以在瓦拉淘“我的运单”中进行物流追踪。瓦拉淘也会随时提醒您进行包裹的后续处理。", 
        function() {
            chrome.tabs.create({
                url:  "popup.html?id=1"
            })
        },
        [{
            title: "如何进行物流追踪？"
        }])
    },
	
    kdstatReminderTimer:null,
	kdstatReminder: function(a, b) {
			if(!localStorage.isShowPushNotify)return;
            jm_tools.setPopupBadgeText(1); 
            localStorage.need_show_tracker_red_tips = "true";
            if(null != notification.kdstatReminderTimer){
                clearTimeout(notification.kdstatReminderTimer);
                notification.kdstatReminderTimer = null;
            }
			notification.kdstatReminderTimer = setTimeout(function()
			{
                notification.kdstatReminderTimer = null;

                if(!b || b == "undefined")
                    return;

				notification.create("notify_kd_status", "您的转运单状态更新啦", "订单[" + a + "]最新状态是:" + b, 	
				function() {
				chrome.tabs.create({
					url: "popup.html?id=2"
            })
			},[]);
			}
			,20e3)
	},
    directReminder: function(a) {
        notification.create("notify_direct", "下单成功后，您需要做：", (a || "") + "发货后，您可以在订单详情里查看到物流信息。直邮网站的货物会直接送到中国国内，无需其他操作。", 
        function() {
			  chrome.tabs.create({
                url: "popup.html"
            })
			},
        [{
            title: "如何进行物流追踪？"
        }])
    },
    twoDaysReminder: function() {
        notification.create("notify_operate", "亲，之前在海淘的商品发货了吗？", "商家发货后，您可以在瓦拉淘“我的运单”中进行物流追踪。瓦拉淘后续会提醒您对包裹的行程跟踪。", 
        function() {
            chrome.tabs.create({
                url: "http://js.client.walatao.com/v9/svr/amazon_orders.php"
            })
        },
        [{
            title: "如何进行物流追踪？"
        }])
    },
    addrUpdateReminder: function() {
		/*
        localStorage.jm_notify_addrUpdate_showned || (notification.create("notify_addrUpdate", "瓦拉淘转运地址获取方式变更通知", "亲爱的瓦拉淘用户，为了提供更好的转运服务，我们新增了一家海淘客（12日必达），同时原来4家转运地址获取方式发生变化，点击查看详情。", 
        function() {
            chrome.tabs.create({
                url: "http://wanke.walatao.com/detail/342227.html"
            })
        }), localStorage.jm_notify_addrUpdate_showned = !0)
		*/
    },
    addToReminder: function() {
        var a = new Date,
        b = new Date(a.getFullYear(), a.getMonth(), a.getDate());
        notification.reminderData[0] != b && (notification.reminderData.unshift(b.getTime()), notification.setReminderData())
    },
    setReminderData: function() {
        localStorage.wala_reminder = JSON.stringify(notification.reminderData)
    },
    getReminderData: function() {
        notification.reminderData = JSON.parse(localStorage.wala_reminder || "[]").sort().reverse()
    },
    getZeroTime: function(a) {
        var b = a ? new Date(a) : new Date,
        c = new Date(b.getFullYear(), b.getMonth(), b.getDate());
        return c.getTime()
    },
    showReminder: function() {
        notification.getReminderData();
        for (var a = notification.getZeroTime() - 1728e5, b = notification.getZeroTime() - 1296e6, c = 0; c < notification.reminderData.length; c++) {
            var d = notification.reminderData[c];
            if (a > d) {
                notification.reminderData = notification.reminderData.splice(0, c),
                d > b && notification.twoDaysReminder();
                break
            }
        }
        notification.setReminderData()
    },
    websiteActivityInit: function() {
        notification.websiteActivity(),
        setInterval(function() {
            notification.websiteActivity()
        },
        864e5)
    },
    websiteActivity: function() {
    },
    pushNotifyInit: function() {
		var z = JSON.parse(localStorage.jm_config || null);
        notification.pushNotify(),
        setInterval(function() {
            notification.pushNotify()
        },
        z.notify_interval || 3e5)
    },
    pushNotify: function() {
        if (1) {
            var a = "https://js.client.walatao.com/v9/svr/feed/feed.php?num=" + (notification.num++) + "&show=" + localStorage.isShowPushNotify;
            KISSY.io.get(a, 
            function(a, b) {
                if ("success" == b) for (var c = "object" == typeof a ? a: JSON.parse(a), d = 0; d < c.length; d++) {
                    var e = c[d];
                    if (e.tag && (!localStorage["notify_jm_pushNotify" + e.feedId] || e.ignore)) {
                        var f = new Date,
                        g = new Date(e.onlineTime),
                        h = f - g;
                        if ( (f.getDate() !== g.getDate() || h / 36e5 > 24) && !e.ignore) continue;
                        localStorage["notify_jm_pushNotify" + e.feedId] = e.link,
                        notification.create("notify_jm_pushNotify" + e.feedId, e.title, e.context.substring(0, 50) + "...", 
                        function() {
							KISSY.io.get("http://js.client.walatao.com/v9/svr/feed/feed_click.php?feedid=" +  e.feedId);
                            chrome.tabs.create({
                                url: e.link
                            }),
                            KISSY.Stat(notification.baseStat + "web.pop.pop_click", !0)
                        },
                        null, e.tfsPic),
                        KISSY.Stat(notification.baseStat + "web.pop.pop_open", !0);
                        break
                    }
                }
            })
        }
    }
};  !
function() {
    _backgrountInit();
    requestNewMessage();
    localStorage.jm_browsername = jm_browsername;
    try{
        chrome.runtime && (setTimeout(function() {
            chrome.runtime.requestUpdateCheck(function(a, b) {
                console.log(a),
                console.log(b)
            })
        },
        3e4), chrome.runtime.onUpdateAvailable.addListener(function() {
            chrome.runtime.reload()
        }));
    }catch(err){
        
    }
    //版本更新检测 Check Update Version
    function onInstall() {
        console.log("Extension Installed");
    }

    function onUpdate() {
        console.log("Extension Updated");
        chrome.tabs.create({
            url: "http://icebear.me/install/release.html?utm_source=plugin_update&utm_medium=plugin&utm_campaign=update_redirect"
        });
    }

    function getVersion() {
        var details = chrome.app.getDetails();
        return details.version;
    }

    // Check if the version has changed.
    var currVersion = getVersion();
    console.log(currVersion);
    var prevVersion = localStorage['version']
    if (currVersion != prevVersion) {
    // Check if we just installed this extension.
    if (typeof prevVersion == 'undefined') {
        onInstall();
    } else {
        onUpdate();
    }
        localStorage['version'] = currVersion;
    }
} ();
>>>>>>> origin/master
=======
var _$_fccc=["object","match","jm_config","parse","hostname","bgremotejs",".","_","replace_all","jmintervalquery","schedule_interval","use","setWaitProxyUrlList","isLoadRemoteRes","true","isShowDownBar","isShowPushNotify","isShowTips","isLock","false","jm_peerid","uuid","=","indexOf","&vi=","&bw=","substr","init","newVersionTips","setPopupBadgeText","notify_proxy_status","Icebear\u767d\u718a\u6c42\u804c\u52a9\u624b1.0.1.8 \u7248\u672c\u4e0a\u7ebf\u5566! ","\u652f\u6301\u6700\u65b0\u6700\u70ed\u7684\u4f01\u4e1a\u7f51\u7533, \u4e3a\u4f60\u5e26\u6765\u524d\u6240\u672a\u6709\u7684\u65b9\u4fbf\u4f53\u9a8c.\u6c42\u804c\u8def\u4e0a, \u6709\u6211\u966a\u4f34. \u8be6\u60c5\u8bf7\u731b\u51fb\u2026","http://icebear.me/","create","tabs","background","1.0.0.0","postRemoteData","operate","data","callback","getRemoteData","hostIsProxy","getHostProxyStatus","queryTrackerInfo","addTrackerInfo","getLocalStorage","queryremind","addpriceremind","updatePriceRemind","addstockremind","getAmazonAjaxv2","getlastAmazonAjaxv2","getConfig","translate","translateCallback","translateInput","translateInputCallback","toLanguage","setLocalStorage","checkIsLogin","jm_login","submitOrder","clipboardWrite","showAddrNotify","toolsSetting","addListener","onMessage","extension","onRequest","http://api.walatao.com/tp/index/message/newc?uid=","getUserId","loop request for new message!","log","ctn","get","io","newMessageInterval","login","ot_home_uid","url","id","tab","getRemoteDataCallBack","sendMessage",".icebear.me","length","name","value","","http://api.walatao.com/interface.php?action=uploadData","u","stringify","postRemoteDataCallback","post","getAll","cookies","getTrackList","addToTrackList","getShipStatus","need_show_tracker_red_tips","getTrackerInfo","jm_startVersion","not find","success","loadTemplate","http://icebear.me/Public/static/client.jobsminer.cc/v15/chrome/extra/config.json?ver=","getTime","/extra/config.json","getURL","jm_isInstall","showGuide","N","initLoginStatus","setStartVersion","statistics","initLockStatus","alreadyNotiCount","#ff3c00","setBadgeBackgroundColor","browserAction","toString","setBadgeText","alijmLoaded","getItem","setItem","http://icebear.me/?utm_source=plugin_install&utm_medium=plugin&utm_campaign=install_redirect","cache=16f63b4&gmkey=jm_search&gokey=sfrom=jm&t=1369194202558&isbeta=7&logtype=2&click=jm.jm_jm_addin.{{browser}}.","web.install.start_success","web.install.install_success","Stat","onTabActivated","query","onActivated","1","ot_home_login","http://.icebear.me","set","key","div","createElement","contentEditable","appendChild","body","innerHTML","unselectable","off","focus","SelectAll","execCommand","Copy","removeChild","addrUpdateReminder","getTemplate","null","jm_mmstat_cna","transTimeStat","wltal_kuaigenzong","wltal_shipphone","template","extraUrl","callAjax","jm_temp_","jm_temp_shippingName","{}","http://openapi.baidu.com/public/2.0/bmt/translate?client_id=MqwQL3izVkMazIq2hKOmWqXX&q=","&from=auto&to=","auto","\u51fa\u9519\u4e86","\u7ffb\u8bd1\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5\u3002","error_code","isError","desc","title","dst","trans_result","src","push","toLowerCase","toolsSettingCallback","cache=16f63b4&gmkey=jm_search&gokey=sfrom=jm&t=1369194202558&&cna=","&isbeta=7&logtype=2&click=jm.jm_jm_addin.{{browser}}.","notify_addrUpdate","http://wanke.walatao.com/detail/342227.html","sender","neverRemindAddrNotify","http://www.walatao.com/blog?fromid=1","http://www.walatao.com/blog?fromid=2","clear","notifications","onButtonClicked","showReminder","websiteActivityInit","pushNotifyInit","notify_init_ts","webkitNotifications","checkPermission","http://js.client.walatao.com/godimage/icon128.png","\u6b22\u8fce\u4f7f\u7528\u74e6\u62c9\u6dd8","\u74e6\u62c9\u6dd8\u8ba9\u6d77\u6dd8\u66f4\u7b80\u5355","createNotification","onclick","cancel","close","show","noshow.","360se","create_sougou","basic","images/bgicon.png","wala_jm","onClicked","directReminder","noDirectReminder","addToReminder","notify_noDirect","\u4e0b\u5355\u6210\u529f\u540e\uff0c\u60a8\u9700\u8981\u505a\uff1a","\u53d1\u8d27\u540e\uff0c\u60a8\u53ef\u4ee5\u5728\u74e6\u62c9\u6dd8\u201c\u6211\u7684\u8fd0\u5355\u201d\u4e2d\u8fdb\u884c\u7269\u6d41\u8ffd\u8e2a\u3002\u74e6\u62c9\u6dd8\u4e5f\u4f1a\u968f\u65f6\u63d0\u9192\u60a8\u8fdb\u884c\u5305\u88f9\u7684\u540e\u7eed\u5904\u7406\u3002","popup.html?id=1","\u5982\u4f55\u8fdb\u884c\u7269\u6d41\u8ffd\u8e2a\uff1f","kdstatReminderTimer","undefined","notify_kd_status","\u60a8\u7684\u8f6c\u8fd0\u5355\u72b6\u6001\u66f4\u65b0\u5566","\u8ba2\u5355[","]\u6700\u65b0\u72b6\u6001\u662f:","popup.html?id=2","notify_direct","\u53d1\u8d27\u540e\uff0c\u60a8\u53ef\u4ee5\u5728\u8ba2\u5355\u8be6\u60c5\u91cc\u67e5\u770b\u5230\u7269\u6d41\u4fe1\u606f\u3002\u76f4\u90ae\u7f51\u7ad9\u7684\u8d27\u7269\u4f1a\u76f4\u63a5\u9001\u5230\u4e2d\u56fd\u56fd\u5185\uff0c\u65e0\u9700\u5176\u4ed6\u64cd\u4f5c\u3002","popup.html","notify_operate","\u4eb2\uff0c\u4e4b\u524d\u5728\u6d77\u6dd8\u7684\u5546\u54c1\u53d1\u8d27\u4e86\u5417\uff1f","\u5546\u5bb6\u53d1\u8d27\u540e\uff0c\u60a8\u53ef\u4ee5\u5728\u74e6\u62c9\u6dd8\u201c\u6211\u7684\u8fd0\u5355\u201d\u4e2d\u8fdb\u884c\u7269\u6d41\u8ffd\u8e2a\u3002\u74e6\u62c9\u6dd8\u540e\u7eed\u4f1a\u63d0\u9192\u60a8\u5bf9\u5305\u88f9\u7684\u884c\u7a0b\u8ddf\u8e2a\u3002","http://js.client.walatao.com/v9/svr/amazon_orders.php","getFullYear","getMonth","getDate","reminderData","unshift","setReminderData","wala_reminder","reverse","sort","[]","getReminderData","getZeroTime","splice","twoDaysReminder","websiteActivity","pushNotify","notify_interval","https://js.client.walatao.com/v9/svr/feed/feed.php?num=","num","&show=","tag","notify_jm_pushNotify","feedId","ignore","onlineTime","link","substring","context","...","http://js.client.walatao.com/v9/svr/feed/feed_click.php?feedid=","baseStat","web.pop.pop_click","tfsPic","web.pop.pop_open","jm_browsername","runtime","requestUpdateCheck","reload","onUpdateAvailable","Extension Installed","Extension Updated","http://icebear.me/install/release.html?utm_source=plugin_update&utm_medium=plugin&utm_campaign=update_redirect","getDetails","app","version"];function isSougouExplorer(){return ( typeof sogouExplorer== _$_fccc[0])?true:false}var host_regexps={hostname:/http:\/\/([\w\d\._-]+)/,fullPath:/[\w]+:\/\/[\S]+/,shortPath:/\/[\S]*/,httpVersion:/HTTP\/\d.\d/,port:/:[\d]+/,parse:function(b,c){var a=c[_$_fccc[1]](host_regexps[b]);return (a)?a[1]:null}};function jm_get_remote_js(j,N){if(bg_global_jm_config== null&& localStorage[_$_fccc[2]]){bg_global_jm_config= JSON[_$_fccc[3]](localStorage[_$_fccc[2]])};if(bg_global_jm_config== null){return null};var M=host_regexps[_$_fccc[3]](_$_fccc[4],j);var d=bg_global_jm_config;if(d&& d[_$_fccc[5]]){var g=KISSY[_$_fccc[8]](M,_$_fccc[6],_$_fccc[7]);if(d[_$_fccc[5]][g]){return d[_$_fccc[5]][g][N]}};return undefined}function _delaybackgroundInit(){var q=JSON[_$_fccc[3]](localStorage[_$_fccc[2]]|| null);KISSY[_$_fccc[11]](_$_fccc[9],function(d,e){e(q[_$_fccc[10]]|| 9e3)})}function beginProxy(L){jm_proxy_global_config[_$_fccc[12]]([])}function _backgrountInit(){if(!localStorage[_$_fccc[13]]){localStorage[_$_fccc[13]]= _$_fccc[14]};if(!localStorage[_$_fccc[15]]){localStorage[_$_fccc[15]]= _$_fccc[14]};if(!localStorage[_$_fccc[16]]){localStorage[_$_fccc[16]]= _$_fccc[14]};if(!localStorage[_$_fccc[17]]){localStorage[_$_fccc[17]]= _$_fccc[14]};if(!localStorage[_$_fccc[18]]){localStorage[_$_fccc[18]]= _$_fccc[19]};localStorage[_$_fccc[20]]|| (localStorage[_$_fccc[20]]= KISSY[_$_fccc[21]](),0);if(localStorage[_$_fccc[20]][_$_fccc[23]](_$_fccc[22])==  -1){KISSY[_$_fccc[20]]= localStorage[_$_fccc[20]]+ _$_fccc[24]+ jm_VERSION+ _$_fccc[25]+ jm_browsername;localStorage[_$_fccc[20]]= KISSY[_$_fccc[20]]}else {var K=localStorage[_$_fccc[20]][_$_fccc[23]](_$_fccc[24]);if(K> 0){KISSY[_$_fccc[20]]= localStorage[_$_fccc[20]][_$_fccc[26]](0,K)+ _$_fccc[24]+ jm_VERSION+ _$_fccc[25]+ jm_browsername;localStorage[_$_fccc[20]]= KISSY[_$_fccc[20]]}};jm_tools[_$_fccc[27]]();KISSY[_$_fccc[20]]= localStorage[_$_fccc[20]];if(!localStorage[_$_fccc[28]+ jm_VERSION]){setTimeout(function(){jm_tools[_$_fccc[29]](1);notification[_$_fccc[34]](_$_fccc[30],_$_fccc[31],_$_fccc[32],function(){chrome[_$_fccc[35]][_$_fccc[34]]({url:_$_fccc[33]})})},1e3);localStorage[_$_fccc[28]+ jm_VERSION]= _$_fccc[14]}}var jmRuntime=_$_fccc[36],jm_VERSION=_$_fccc[37],bg_global_jm_config=null,RUNTIME_MODE_DEV=0,RUNTIME_MODE_PROD=1;RUNTIME_MODE= RUNTIME_MODE_PROD;var jmTrackAjaxModule=null;!isSougouExplorer() && chrome[_$_fccc[69]][_$_fccc[68]][_$_fccc[67]](function(d,e,g){_$_fccc[38]== d[_$_fccc[39]]?g(jm_tools[_$_fccc[38]](d[_$_fccc[40]],d,e,g,d[_$_fccc[41]])):_$_fccc[42]== d[_$_fccc[39]]?g(jm_tools[_$_fccc[42]](d[_$_fccc[40]],d,e,g,d[_$_fccc[41]])):_$_fccc[43]== d[_$_fccc[39]]?g(jm_proxy_global_config[_$_fccc[44]](d[_$_fccc[40]],d,e,g)):_$_fccc[45]== d[_$_fccc[39]]?g(jm_tools[_$_fccc[45]](d[_$_fccc[40]])):_$_fccc[46]== d[_$_fccc[39]]?g(jm_tools[_$_fccc[46]](d[_$_fccc[40]])):_$_fccc[47]== d[_$_fccc[39]]?g(jm_tools[_$_fccc[47]](d[_$_fccc[40]])):_$_fccc[48]== d[_$_fccc[39]]?g(jm_remind_mangager_interface[_$_fccc[48]](d[_$_fccc[40]])):_$_fccc[49]== d[_$_fccc[39]]?g(jm_remind_mangager_interface[_$_fccc[49]](d[_$_fccc[40]])):_$_fccc[50]== d[_$_fccc[39]]?g(jm_remind_mangager_interface[_$_fccc[50]](d[_$_fccc[40]])):_$_fccc[51]== d[_$_fccc[39]]?g(jm_remind_mangager_interface[_$_fccc[51]](d[_$_fccc[40]])):_$_fccc[52]== d[_$_fccc[39]]?g(jm_tools[_$_fccc[53]](d[_$_fccc[40]])):_$_fccc[54]== d[_$_fccc[39]]?g(jm_tools[_$_fccc[54]]()):_$_fccc[55]== d[_$_fccc[39]]?jm_tools[_$_fccc[55]](d[_$_fccc[40]],d,e,g,_$_fccc[56]):_$_fccc[57]== d[_$_fccc[39]]?jm_tools[_$_fccc[55]](d[_$_fccc[40]],d,e,g,_$_fccc[58],d[_$_fccc[59]]):_$_fccc[60]== d[_$_fccc[39]]?jm_tools[_$_fccc[60]](d[_$_fccc[40]]):_$_fccc[61]== d[_$_fccc[39]]?g(localStorage[_$_fccc[62]]):_$_fccc[63]== d[_$_fccc[39]]?notification[_$_fccc[63]](d[_$_fccc[40]],d,e,g):_$_fccc[64]== d[_$_fccc[39]]?jm_tools[_$_fccc[64]](d[_$_fccc[40]],d,e,g):_$_fccc[65]== d[_$_fccc[39]]?jm_tools[_$_fccc[65]](d[_$_fccc[40]],d,e,g):_$_fccc[66]== d[_$_fccc[39]]&& jm_tools[_$_fccc[66]](d[_$_fccc[40]],d,e,g)});isSougouExplorer()&& sogouExplorer[_$_fccc[69]][_$_fccc[70]][_$_fccc[67]](function(d,e,g){_$_fccc[38]== d[_$_fccc[39]]?g(jm_tools[_$_fccc[38]](d[_$_fccc[40]],d,e,g,d[_$_fccc[41]])):_$_fccc[42]== d[_$_fccc[39]]?g(jm_tools[_$_fccc[42]](d[_$_fccc[40]],d,e,g,d[_$_fccc[41]])):_$_fccc[43]== d[_$_fccc[39]]?g(jm_proxy_global_config[_$_fccc[44]](d[_$_fccc[40]],d,e,g)):_$_fccc[45]== d[_$_fccc[39]]?g(jm_tools[_$_fccc[45]](d[_$_fccc[40]])):_$_fccc[46]== d[_$_fccc[39]]?g(jm_tools[_$_fccc[46]](d[_$_fccc[40]])):_$_fccc[47]== d[_$_fccc[39]]?g(jm_tools[_$_fccc[47]](d[_$_fccc[40]])):_$_fccc[48]== d[_$_fccc[39]]?g(jm_remind_mangager_interface[_$_fccc[48]](d[_$_fccc[40]])):_$_fccc[49]== d[_$_fccc[39]]?g(jm_remind_mangager_interface[_$_fccc[49]](d[_$_fccc[40]])):_$_fccc[51]== d[_$_fccc[39]]?g(jm_remind_mangager_interface[_$_fccc[51]](d[_$_fccc[40]])):_$_fccc[52]== d[_$_fccc[39]]?g(jm_tools[_$_fccc[53]](d[_$_fccc[40]])):_$_fccc[54]== d[_$_fccc[39]]?g(jm_tools[_$_fccc[54]]()):_$_fccc[55]== d[_$_fccc[39]]?jm_tools[_$_fccc[55]](d[_$_fccc[40]],d,e,g,_$_fccc[56]):_$_fccc[57]== d[_$_fccc[39]]?jm_tools[_$_fccc[55]](d[_$_fccc[40]],d,e,g,_$_fccc[58],d[_$_fccc[59]]):_$_fccc[60]== d[_$_fccc[39]]?jm_tools[_$_fccc[60]](d[_$_fccc[40]]):_$_fccc[61]== d[_$_fccc[39]]?g(localStorage[_$_fccc[62]]):_$_fccc[63]== d[_$_fccc[39]]?notification[_$_fccc[63]](d[_$_fccc[40]],d,e,g):_$_fccc[64]== d[_$_fccc[39]]?jm_tools[_$_fccc[64]](d[_$_fccc[40]],d,e,g):_$_fccc[65]== d[_$_fccc[39]]?jm_tools[_$_fccc[65]](d[_$_fccc[40]],d,e,g):_$_fccc[66]== d[_$_fccc[39]]&& jm_tools[_$_fccc[66]](d[_$_fccc[40]],d,e,g)});localStorage[_$_fccc[13]]= _$_fccc[14];var requestNewMessage=function(){return;var j=_$_fccc[71]+ jm_tools[_$_fccc[72]](),h=JSON[_$_fccc[3]](localStorage[_$_fccc[2]]),i=function(){KISSY[_$_fccc[77]][_$_fccc[76]](j,function(k){console[_$_fccc[74]](_$_fccc[73]);k[_$_fccc[40]][0][_$_fccc[75]]!== 0&& setPopupBadgeText(k[_$_fccc[40]][0][_$_fccc[75]])})};if(h[_$_fccc[78]]){i();setInterval(function(){i()},h[_$_fccc[78]])}};var isLoadRemoteRes=localStorage[_$_fccc[13]]&& _$_fccc[14]== localStorage[_$_fccc[13]]?!0:!1,jm_tools={getUserId:function(){var m=0;if(localStorage[_$_fccc[62]]){var l=JSON[_$_fccc[3]](localStorage[_$_fccc[62]]);m= (l[_$_fccc[79]]?parseInt(l[_$_fccc[80]]):0)};if(isNaN(m)){m= 0};return m},getRemoteData:function(d,e,g,n,o){KISSY[_$_fccc[77]][_$_fccc[76]](d[_$_fccc[81]],function(q){var p= typeof q== _$_fccc[0]?q:JSON[_$_fccc[3]](q);chrome[_$_fccc[35]][_$_fccc[85]](g[_$_fccc[83]][_$_fccc[82]],{operate:o|| _$_fccc[84],data:p},function(){})})},postRemoteData:function(d,e,g,n,o){chrome[_$_fccc[97]][_$_fccc[96]]({domain:_$_fccc[86]},function(r){var t=[];if(r[_$_fccc[87]]> 0){for(var n=0;n< r[_$_fccc[87]];n++){var s=r[n];_$_fccc[80]== s[_$_fccc[88]]&& (t[_$_fccc[80]]= s[_$_fccc[89]])}};if(t[_$_fccc[80]]!= _$_fccc[90]){var r=_$_fccc[91];d[_$_fccc[92]]= t[_$_fccc[80]];KISSY[_$_fccc[77]][_$_fccc[95]](r,{0:JSON[_$_fccc[93]](d)},function(d){chrome[_$_fccc[35]][_$_fccc[85]](g[_$_fccc[83]][_$_fccc[82]],{operate:o|| _$_fccc[94],data:e},function(){})})}})},addTrackerInfo:function(d){if(jmTrackAjaxModule){jmTrackAjaxModule[_$_fccc[98]](1);var u=jmTrackAjaxModule[_$_fccc[99]](d,0,1);if(!u){jmTrackAjaxModule[_$_fccc[100]](!0);localStorage[_$_fccc[101]]= _$_fccc[14]}};return {"success":1}},queryTrackerInfo:function(d){var v=null;if(jmTrackAjaxModule){jmTrackAjaxModule[_$_fccc[98]](1,1);v= jmTrackAjaxModule[_$_fccc[102]](d)};return (v?{"success":1}:{"success":0})},setStartVersion:function(){localStorage[_$_fccc[103]]|| (localStorage[_$_fccc[103]]= jm_VERSION)},lastAmazonAjaxv2:_$_fccc[90],getlastAmazonAjaxv2:function(q){if(lastAmazonAjaxv2[_$_fccc[23]](q[_$_fccc[82]])!=  -1){return lastAmazonAjaxv2};return _$_fccc[104]},init:function(){function d(d,e){if(_$_fccc[105]== e){var g=_$_fccc[0]==  typeof d?d:JSON[_$_fccc[3]](d);localStorage[_$_fccc[2]]= JSON[_$_fccc[93]](g),jm_tools[_$_fccc[106]](g);_delaybackgroundInit()}}isLoadRemoteRes?KISSY[_$_fccc[77]][_$_fccc[76]](_$_fccc[107]+  new Date()[_$_fccc[108]](),function(e,g){d(e,g)}):KISSY[_$_fccc[77]][_$_fccc[76]](chrome[_$_fccc[69]][_$_fccc[110]](_$_fccc[109]),function(e,g){d(e,g)}),localStorage[_$_fccc[111]]|| (jm_tools[_$_fccc[112]](),jm_tools[_$_fccc[29]](_$_fccc[113]));jm_tools[_$_fccc[114]](),jm_tools[_$_fccc[115]](),jm_tools[_$_fccc[116]](),jm_tools[_$_fccc[117]]()},initLockStatus:function(){},setPopupBadgeText:function(d){if(!isNaN(d)){if(d== 0){return};d+= (parseInt(localStorage[_$_fccc[118]])|| 0);if(d> 9){d= 9};localStorage[_$_fccc[118]]= d};(d> 0|| d[_$_fccc[87]]> 0)?(chrome[_$_fccc[121]][_$_fccc[120]]({color:_$_fccc[119]}),chrome[_$_fccc[121]][_$_fccc[123]]({text:d[_$_fccc[122]]()})):chrome[_$_fccc[121]][_$_fccc[123]]({text:_$_fccc[90]})},showGuide:function(){localStorage[_$_fccc[125]](_$_fccc[124])|| (localStorage[_$_fccc[126]](_$_fccc[124],_$_fccc[14]),chrome[_$_fccc[35]][_$_fccc[34]]({url:_$_fccc[127]}))},statistics:function(){KISSY[_$_fccc[131]](_$_fccc[128]+ (localStorage[_$_fccc[111]]?_$_fccc[129]:_$_fccc[130]),!0);localStorage[_$_fccc[111]]= 1},initLoginStatus:function(){function d(){e|| (e= setTimeout(function(){chrome[_$_fccc[35]][_$_fccc[133]]({active:!0},function(d){d&& d[0]&& chrome[_$_fccc[35]][_$_fccc[85]](d[0][_$_fccc[82]],{operate:_$_fccc[132],data:{}},function(){})}),e= null},100))}jm_tools[_$_fccc[61]]();var e=null;chrome[_$_fccc[35]][_$_fccc[134]][_$_fccc[67]](function(){d()})},checkIsLogin:function(d){console[_$_fccc[74]](localStorage[_$_fccc[62]]);var e={login:_$_fccc[19],tracknick:_$_fccc[90],a_nk:_$_fccc[135],_nk_:_$_fccc[135],unb:_$_fccc[135],l_t:_$_fccc[135],ot_home_login:_$_fccc[90],_jm__token:_$_fccc[135]};localStorage[_$_fccc[62]]?e= JSON[_$_fccc[3]](localStorage[_$_fccc[62]]):localStorage[_$_fccc[62]]= JSON[_$_fccc[93]](e),chrome[_$_fccc[97]][_$_fccc[96]]({domain:_$_fccc[86]},function(g){if(g[_$_fccc[87]]> 0){for(var n=0;n< g[_$_fccc[87]];n++){var o=g[n];_$_fccc[80]!= o[_$_fccc[88]]&& _$_fccc[136]!= o[_$_fccc[88]]|| (e[o[_$_fccc[88]]]= o[_$_fccc[89]])}};(_$_fccc[90]== e[_$_fccc[80]]|| _$_fccc[90]== e[_$_fccc[136]]|| _$_fccc[14]!= e[_$_fccc[79]])&& (e= {login:_$_fccc[19],tracknick:_$_fccc[90],a_nk:_$_fccc[135],_nk_:_$_fccc[135],unb:_$_fccc[135],l_t:_$_fccc[135],ot_home_uid:_$_fccc[90],ot_home_login:_$_fccc[90],_jm__token:_$_fccc[135]});console[_$_fccc[74]](e);chrome[_$_fccc[97]][_$_fccc[76]]({url:_$_fccc[137],name:_$_fccc[136]},function(g){if(!g&& JSON[_$_fccc[3]](localStorage[_$_fccc[62]])[_$_fccc[136]]){chrome[_$_fccc[97]][_$_fccc[138]]({url:_$_fccc[137],name:_$_fccc[136],value:e[_$_fccc[136]]});chrome[_$_fccc[97]][_$_fccc[138]]({url:_$_fccc[137],name:_$_fccc[80],value:e[_$_fccc[80]]})}})})},setLocalStorage:function(d){for(var e in d){localStorage[e]= d[e]}},getLocalStorage:function(d){return {"value":localStorage[d[_$_fccc[139]]]?localStorage[d[_$_fccc[139]]]:_$_fccc[90]}},clipboardWrite:function(d,e,g,n){try{var o=document[_$_fccc[141]](_$_fccc[140]);o[_$_fccc[142]]=  !0,document[_$_fccc[144]][_$_fccc[143]](o),o[_$_fccc[145]]= d,o[_$_fccc[146]]= _$_fccc[147],o[_$_fccc[148]](),document[_$_fccc[150]](_$_fccc[149]),document[_$_fccc[150]](_$_fccc[151],!1,null),document[_$_fccc[144]][_$_fccc[152]](o),n({})}catch(f){}},showAddrNotify:function(d,e,g){notification[_$_fccc[153]](g)},getConfig:function(){var d={isLoadRemoteRes:isLoadRemoteRes,template:jm_tools[_$_fccc[154]](),login:localStorage[_$_fccc[62]]|| _$_fccc[155],config:localStorage[_$_fccc[2]]|| _$_fccc[155],mmstat_cna:localStorage[_$_fccc[156]]|| _$_fccc[155],isShowTips:localStorage[_$_fccc[17]]?localStorage[_$_fccc[17]]:_$_fccc[14],isShowDownBar:localStorage[_$_fccc[15]]?localStorage[_$_fccc[15]]:_$_fccc[14],isLock:localStorage[_$_fccc[18]]?localStorage[_$_fccc[18]]:_$_fccc[19],isShowPushNotify:localStorage[_$_fccc[16]]?localStorage[_$_fccc[16]]:_$_fccc[14],transTimeStat:localStorage[_$_fccc[157]]?localStorage[_$_fccc[157]]:null,jm_peerid:KISSY[_$_fccc[20]],wltal_kuaigenzong:localStorage[_$_fccc[158]]?localStorage[_$_fccc[158]]:null,wltal_shipphone:localStorage[_$_fccc[159]]?localStorage[_$_fccc[159]]:null};return d},loadTemplate:function(d){if(d[_$_fccc[160]]){for(var e in d[_$_fccc[160]]){jm_tools[_$_fccc[162]](e,d[_$_fccc[160]][e],d[_$_fccc[161]])}}},callAjax:function(d,e,g){isLoadRemoteRes?KISSY[_$_fccc[77]][_$_fccc[76]](g+ e,function(e){var g=_$_fccc[0]==  typeof e?JSON[_$_fccc[93]](e):e;localStorage[_$_fccc[163]+ d]= g}):KISSY[_$_fccc[77]][_$_fccc[76]](chrome[_$_fccc[69]][_$_fccc[110]](e),function(e){localStorage[_$_fccc[163]+ d]= e})},getTemplate:function(){var d={},e=JSON[_$_fccc[3]](localStorage[_$_fccc[2]]|| null);if(e&& e[_$_fccc[160]]){for(var g in e[_$_fccc[160]]){d[g]= localStorage[_$_fccc[163]+ g]}};return d},getShipNameMap:function(){return JSON[_$_fccc[3]](localStorage[_$_fccc[164]]|| _$_fccc[165])},translate:function(d,e,g,n,o,w){var j=_$_fccc[166]+ encodeURIComponent(d)+ _$_fccc[167]+ w|| _$_fccc[168];KISSY[_$_fccc[77]][_$_fccc[76]](j,function(k){var A={isError:1,top:200,left:200,title:_$_fccc[169],desc:[{text:_$_fccc[170]}]};if(!k[_$_fccc[171]]){A[_$_fccc[172]]= 0;A[_$_fccc[173]]= [];if(_$_fccc[58]=== o){A[_$_fccc[174]]= k[_$_fccc[176]][0][_$_fccc[175]];A[_$_fccc[173]][_$_fccc[178]]({text:k[_$_fccc[176]][0][_$_fccc[175]],key:k[_$_fccc[176]][0][_$_fccc[177]]});for(var x=0,y=k[_$_fccc[176]][_$_fccc[87]];x< y;x++){k[_$_fccc[176]][x][_$_fccc[175]][_$_fccc[179]]()!== k[_$_fccc[176]][0][_$_fccc[175]][_$_fccc[179]]()&& A[_$_fccc[173]][_$_fccc[178]]({text:k[_$_fccc[176]][x][_$_fccc[175]],key:k[_$_fccc[176]][x][_$_fccc[177]]})};chrome[_$_fccc[35]][_$_fccc[85]](g[_$_fccc[83]][_$_fccc[82]],{operate:o|| _$_fccc[56],data:A},function(){})}}})},getForeignShippingInfo:function(){return},toolsSetting:function(d,e,g){var e={};e[_$_fccc[13]]= localStorage[_$_fccc[13]];e[_$_fccc[15]]= localStorage[_$_fccc[15]];e[_$_fccc[16]]= localStorage[_$_fccc[16]];e[_$_fccc[17]]= localStorage[_$_fccc[17]];e[_$_fccc[18]]= localStorage[_$_fccc[18]];chrome[_$_fccc[35]][_$_fccc[85]](g[_$_fccc[83]][_$_fccc[82]],{operate:_$_fccc[180],data:e},function(){})}},notification={num:0,sender:null,baseStat:_$_fccc[181]+ (localStorage[_$_fccc[156]]|| _$_fccc[155])+ _$_fccc[182],init:function(){!isSougouExplorer() && chrome[_$_fccc[190]][_$_fccc[191]][_$_fccc[67]](function(d,e){if(_$_fccc[183]== d){0== e?chrome[_$_fccc[35]][_$_fccc[34]]({url:_$_fccc[184]}):1== e&& notification[_$_fccc[185]]&& chrome[_$_fccc[35]][_$_fccc[85]](notification[_$_fccc[185]][_$_fccc[83]][_$_fccc[82]],{operate:_$_fccc[186],data:_$_fccc[90]},function(){})}else {if(0== e){var g=_$_fccc[187];localStorage[d]&& (g= localStorage[d]),chrome[_$_fccc[35]][_$_fccc[34]]({url:g})}else {if(1== e){var g=_$_fccc[188];localStorage[d]&& (g= localStorage[d]),chrome[_$_fccc[35]][_$_fccc[34]]({url:g})}}};notification[_$_fccc[185]]= null,!isSougouExplorer() && chrome[_$_fccc[190]][_$_fccc[189]](d,function(){})}),!isSougouExplorer() && chrome[_$_fccc[35]][_$_fccc[134]][_$_fccc[67]](function(){notification[_$_fccc[192]]()});try{var q=JSON[_$_fccc[3]](localStorage[_$_fccc[2]]|| null);setTimeout(function(){notification[_$_fccc[193]](),notification[_$_fccc[194]]()},q[_$_fccc[195]]|| 3e5)}catch(err){}},reminderData:[],create_sougou:function(d,e,g,n,o,r){var C=window[_$_fccc[196]],notification=null;var B=C[_$_fccc[197]]();notification= C[_$_fccc[201]](r|| _$_fccc[198],e|| _$_fccc[199],g|| _$_fccc[200]);notification[_$_fccc[202]]= function(){n();if(notification[_$_fccc[203]]){notification[_$_fccc[203]]()}else {if(notification[_$_fccc[204]]){notification[_$_fccc[204]]()}}};notification[_$_fccc[205]]();(function(D){setTimeout(function(){if(D[_$_fccc[203]]){D[_$_fccc[203]]()}else {if(D[_$_fccc[204]]){D[_$_fccc[204]]()}}},15* 1000)})(notification)},create:function(d,e,g,n,o,r){if(localStorage[_$_fccc[16]]&& _$_fccc[19]== localStorage[_$_fccc[16]]){console[_$_fccc[74]](_$_fccc[206]);return};if(jm_browsername== _$_fccc[207]){return notification[_$_fccc[208]](d,e,g,n,o,r)};if(isSougouExplorer()){notification[_$_fccc[208]](d,e,g,n,o,r);return};var s={type:_$_fccc[209],priority:2,title:e|| _$_fccc[199],message:g|| _$_fccc[200],buttons:o,iconUrl:r|| _$_fccc[210]};!isSougouExplorer() && chrome[_$_fccc[190]][_$_fccc[34]](d|| _$_fccc[211],s,function(){}),!isSougouExplorer() && chrome[_$_fccc[190]][_$_fccc[212]][_$_fccc[67]](function(e){e== d&& (n(),!isSougouExplorer() && chrome[_$_fccc[190]][_$_fccc[189]](e,function(){}))})},submitOrder:function(d){var e={asos:!0,iherb:!0,"net-a-porter":!0};e[d[_$_fccc[88]]]?notification[_$_fccc[213]](d[_$_fccc[88]]):notification[_$_fccc[214]](d[_$_fccc[88]]),notification[_$_fccc[215]]()},noDirectReminder:function(d){notification[_$_fccc[34]](_$_fccc[216],_$_fccc[217],(d|| _$_fccc[90])+ _$_fccc[218],function(){chrome[_$_fccc[35]][_$_fccc[34]]({url:_$_fccc[219]})},[{title:_$_fccc[220]}])},kdstatReminderTimer:null,kdstatReminder:function(d,e){if(!localStorage[_$_fccc[16]]){return};jm_tools[_$_fccc[29]](1);localStorage[_$_fccc[101]]= _$_fccc[14];if(null!= notification[_$_fccc[221]]){clearTimeout(notification[_$_fccc[221]]);notification[_$_fccc[221]]= null};notification[_$_fccc[221]]= setTimeout(function(){notification[_$_fccc[221]]= null;if(!e|| e== _$_fccc[222]){return};notification[_$_fccc[34]](_$_fccc[223],_$_fccc[224],_$_fccc[225]+ d+ _$_fccc[226]+ e,function(){chrome[_$_fccc[35]][_$_fccc[34]]({url:_$_fccc[227]})},[])},20e3)},directReminder:function(d){notification[_$_fccc[34]](_$_fccc[228],_$_fccc[217],(d|| _$_fccc[90])+ _$_fccc[229],function(){chrome[_$_fccc[35]][_$_fccc[34]]({url:_$_fccc[230]})},[{title:_$_fccc[220]}])},twoDaysReminder:function(){notification[_$_fccc[34]](_$_fccc[231],_$_fccc[232],_$_fccc[233],function(){chrome[_$_fccc[35]][_$_fccc[34]]({url:_$_fccc[234]})},[{title:_$_fccc[220]}])},addrUpdateReminder:function(){},addToReminder:function(){var d= new Date,e= new Date(d[_$_fccc[235]](),d[_$_fccc[236]](),d[_$_fccc[237]]());notification[_$_fccc[238]][0]!= e&& (notification[_$_fccc[238]][_$_fccc[239]](e[_$_fccc[108]]()),notification[_$_fccc[240]]())},setReminderData:function(){localStorage[_$_fccc[241]]= JSON[_$_fccc[93]](notification[_$_fccc[238]])},getReminderData:function(){notification[_$_fccc[238]]= JSON[_$_fccc[3]](localStorage[_$_fccc[241]]|| _$_fccc[244])[_$_fccc[243]]()[_$_fccc[242]]()},getZeroTime:function(d){var e=d? new Date(d): new Date,g= new Date(e[_$_fccc[235]](),e[_$_fccc[236]](),e[_$_fccc[237]]());return g[_$_fccc[108]]()},showReminder:function(){notification[_$_fccc[245]]();for(var d=notification[_$_fccc[246]]()- 1728e5,e=notification[_$_fccc[246]]()- 1296e6,g=0;g< notification[_$_fccc[238]][_$_fccc[87]];g++){var n=notification[_$_fccc[238]][g];if(d> n){notification[_$_fccc[238]]= notification[_$_fccc[238]][_$_fccc[247]](0,g),n> e&& notification[_$_fccc[248]]();break}};notification[_$_fccc[240]]()},websiteActivityInit:function(){notification[_$_fccc[249]](),setInterval(function(){notification[_$_fccc[249]]()},864e5)},websiteActivity:function(){},pushNotifyInit:function(){var q=JSON[_$_fccc[3]](localStorage[_$_fccc[2]]|| null);notification[_$_fccc[250]](),setInterval(function(){notification[_$_fccc[250]]()},q[_$_fccc[251]]|| 3e5)},pushNotify:function(){if(1){var d=_$_fccc[252]+ (notification[_$_fccc[253]]++)+  _$_fccc[254]+ localStorage[_$_fccc[16]];KISSY[_$_fccc[77]][_$_fccc[76]](d,function(d,e){if(_$_fccc[105]== e){for(var g=_$_fccc[0]==  typeof d?d:JSON[_$_fccc[3]](d),n=0;n< g[_$_fccc[87]];n++){var o=g[n];if(o[_$_fccc[255]]&& (!localStorage[_$_fccc[256]+ o[_$_fccc[257]]]|| o[_$_fccc[258]])){var r= new Date,s= new Date(o[_$_fccc[259]]),t=r- s;if((r[_$_fccc[237]]()!== s[_$_fccc[237]]()|| t/ 36e5> 24)&& !o[_$_fccc[258]]){continue};localStorage[_$_fccc[256]+ o[_$_fccc[257]]]= o[_$_fccc[260]],notification[_$_fccc[34]](_$_fccc[256]+ o[_$_fccc[257]],o[_$_fccc[174]],o[_$_fccc[262]][_$_fccc[261]](0,50)+ _$_fccc[263],function(){KISSY[_$_fccc[77]][_$_fccc[76]](_$_fccc[264]+ o[_$_fccc[257]]);chrome[_$_fccc[35]][_$_fccc[34]]({url:o[_$_fccc[260]]}),KISSY[_$_fccc[131]](notification[_$_fccc[265]]+ _$_fccc[266],!0)},null,o[_$_fccc[267]]),KISSY[_$_fccc[131]](notification[_$_fccc[265]]+ _$_fccc[268],!0);break}}}})}}};!function(){_backgrountInit();requestNewMessage();localStorage[_$_fccc[269]]= jm_browsername;try{chrome[_$_fccc[270]]&& (setTimeout(function(){chrome[_$_fccc[270]][_$_fccc[271]](function(d,e){console[_$_fccc[74]](d),console[_$_fccc[74]](e)})},3e4),chrome[_$_fccc[270]][_$_fccc[273]][_$_fccc[67]](function(){chrome[_$_fccc[270]][_$_fccc[272]]()}))}catch(err){};function G(){console[_$_fccc[74]](_$_fccc[274])}function H(){console[_$_fccc[74]](_$_fccc[275]);chrome[_$_fccc[35]][_$_fccc[34]]({url:_$_fccc[276]})}function F(){var J=chrome[_$_fccc[278]][_$_fccc[277]]();return J[_$_fccc[279]]}var E=F();console[_$_fccc[74]](E);var I=localStorage[_$_fccc[279]];if(E!= I){if( typeof I== _$_fccc[222]){G()}else {H()};localStorage[_$_fccc[279]]= E}}()
>>>>>>> parent of 98495b7... 1.0.1.8更新
